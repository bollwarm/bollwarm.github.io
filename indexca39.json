{"id":841,"date":"2015-12-11T22:02:08","date_gmt":"2015-12-11T14:02:08","guid":{"rendered":"http:\/\/ijz.me\/?p=841"},"modified":"2015-12-11T22:02:08","modified_gmt":"2015-12-11T14:02:08","slug":"rex-advent-rex%e6%89%b9%e9%87%8f%e6%9b%bf%e6%8d%a2%e8%a2%ab%e7%af%a1%e6%94%b9%e7%9a%84%e6%96%87%e4%bb%b6","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=841","title":{"rendered":"rex advent\u2014\u2014rex\u6279\u91cf\u66ff\u6362\u88ab\u7be1\u6539\u7684\u6587\u4ef6"},"content":{"rendered":"<p>\u540c\u4e8b\u53d1\u73b0\u6709\u90e8\u5206\u7cfb\u7edf\u7684\u811a\u672c\u6267\u884c\u6709\u95ee\u9898\uff0c\u81ea\u52a8\u6e05\u7406\u7684\u811a\u672c\u4e0d\u8d77\u4f5c\u7528\u4e86\uff0c\u540e\u6765\u53d1\u73b0\u662f\u7cfb\u7edf\u7684find\u53ef\u80fd\u88ab\u66ff\u6362\u4e86<\/p>\n<p>\u767b\u5f55\u7cfb\u7edf\u53d1\u73b0find\u88ab\u66ff\u6362\u4e3a\u7a7a\u6587\u4ef6\u4e86\u2026\u2026<\/p>\n<p><!--more--><\/p>\n<p>1\u3001\u6279\u91cf\u626b\u63cf\u6709\u591a\u5c11\u670d\u52a1\u5668\u6709\u95ee\u9898\uff1a\u5f88\u7b80\u5355\u626b\u63cf\u8fdc\u7a0b\u670d\u52a1\u76ee\u5f55find \u5982\u679c\u5927\u5c0f\u4e3a1\uff08\u5373\u4f7f\u4e3a\u7a7a\uff09\u3002<\/p>\n<p>task &#8220;find&#8221;, group =&gt; &#8220;all&#8221;, sub {<br \/>\nmy $output= run &#8216;ls -al \/bin\/find&#8217;;<br \/>\nsay connection-&gt;server.&#8217;:&#8217;. $output;<br \/>\n};<\/p>\n<p>rex -qw find 1&gt;findlist.txt<\/p>\n<p>\u7136\u540e\u5bf9findlist\u5904\u7406\uff0c\u5f53\u7136\u662fperloneline<\/p>\n<p>perl -lane &#8216;print $F[0] if $F[5]==1&#8217; findlist.txt|perl -pe &#8216;s\/:$\/\/&#8217;<\/p>\n<p>\u83b7\u5f97\u6709\u95ee\u9898\u7684\u670d\u52a1\u5668\u5217\u8868\u3002<\/p>\n<p>2\u3001\u6253\u5370\u5bf9\u670d\u52a1\u5668\u7248\u672c\u8fdb\u884c\uff0c\u4ee5\u4fbf\u627e\u5230\u76f8\u5bf9\u5e94\u7684find\u6587\u4ef6\u8fdb\u884c\u66ff\u6362<\/p>\n<p>task &#8220;issue&#8221;, group =&gt; &#8220;all&#8221;, sub {<br \/>\nmy $output= run &#8216;cat \/etc\/issue&#8217;;<br \/>\nsay connection-&gt;server.&#8217;:&#8217;. $output;<br \/>\n};<\/p>\n<p>3\u3001\u66ff\u6362find\u6587\u4ef6,\u7528upload\u4e0a\u4f20\uff0c\u5e76\u6539\u53d8\u5176\u5c5e\u4e3b\u548c\u5206\u7ec4\uff0c\u6700\u540e\u8bd5\u7740\u4f7f\u7528find\u547d\u4ee4\u641c\u7d22\/root\u76ee\u5f55\u7684\u6587\u4ef6\uff0c\u5982\u679c\u6709\u8f93\u51fa\u5373\u4e3a\u66ff\u6362\u6210\u529f\u3002<\/p>\n<p>task &#8220;findchange&#8221;, group =&gt; &#8220;all&#8221;, sub {<\/p>\n<p>upload &#8220;\/tmp\/find&#8221;, &#8220;\/bin\/find&#8221;;<br \/>\nrun &#8216;chown root.root \/bin\/find &#8216;;<br \/>\nmy $output=run &#8216;find\u00a0 \/root -type f|wc -l &#8216;;<br \/>\nsay connection-&gt;server.&#8217;:&#8217;. $output;<\/p>\n<p>};<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u540c\u4e8b\u53d1\u73b0\u6709\u90e8\u5206\u7cfb\u7edf\u7684\u811a\u672c\u6267\u884c\u6709\u95ee\u9898\uff0c\u81ea\u52a8\u6e05\u7406\u7684\u811a\u672c\u4e0d\u8d77\u4f5c\u7528\u4e86\uff0c\u540e\u6765\u53d1\u73b0\u662f\u7cfb\u7edf\u7684find\u53ef\u80fd\u88ab\u66ff\u6362\u4e86 \u767b\u5f55\u7cfb\u7edf\u53d1 [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[21,23,6],"tags":[29,40,44,51],"class_list":["post-841","post","type-post","status-publish","format-standard","hentry","category-perl","category-rex","category-6","tag-advent","tag-perl","tag-rex","tag-51"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/841","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=841"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/841\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=841"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=841"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=841"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}