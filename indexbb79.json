{"id":56,"date":"2013-07-11T17:08:10","date_gmt":"2013-07-11T09:08:10","guid":{"rendered":"http:\/\/localhost\/?p=56"},"modified":"2013-07-11T17:08:10","modified_gmt":"2013-07-11T09:08:10","slug":"rac%e4%b8%8b%e4%bf%ae%e6%94%b9oracle%e5%bd%92%e6%a1%a3%e6%a8%a1%e5%bc%8f","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=56","title":{"rendered":"RAC\u4e0b\u4fee\u6539oracle\u5f52\u6863\u6a21\u5f0f"},"content":{"rendered":"<p>oracle\u7684\u6240\u6709\u9ed8\u8ba4\u914d\u7f6e\u90fd\u662f\u4e0d\u597d\u7684\uff0c\u8981\u4e0d\u7136\u670d\u52a1\u5c31\u5356\u4e0d\u4e86\u94b1\u4e86\u00b7\u00b7<\/p>\n<p>\u6570\u636e\u5e93\u9ed8\u8ba4\u5b89\u88c5\u4ee5\u540e\uff0c\u6240\u6709\u90fd\u662f\u975e\u5f52\u6863\u6a21\u5f0f\uff0c\u8fd9\u6837\u5bf9\u4e8e\u6570\u636e\u5e93\u7684\u5b89\u5168\u6027\u800c\u8a00\uff0c\u662f\u5f88\u4e0d\u597d\u7684\uff0c\u6240\u4ee5\u5fc5\u987b\u5c06\u6570\u636e\u5e93\u4fee\u6539\u4e3a\u5f52\u6863\u6a21\u5f0f\uff0c\u5355\u5b9e\u4f8b\u6570\u636e\u5e93\u7684\u4fee\u6539\u662f\u6bd4\u8f83\u7b80\u5355\uff0c\u800crac\u7684\u8bdd\uff0c\u8fd8\u662f\u6709\u70b9\u70b9\u590d\u6742\uff0c<\/p>\n<p><!--more--><\/p>\n<p>\u4ee5\u4e0b\u662f\u5177\u4f53\u8fc7\u7a0b\uff1a<\/p>\n<p>\u73af\u5883\uff1aAIX5.2 Oracle9204<\/p>\n<p>\u5b9e\u65bd\u4e4b\u524d \u5bf9\u6570\u636e\u5e93\u505a\u597d\u5907\u4efd<\/p>\n<p>1\u3001\u5173\u95ed\u6240\u6709\u5b9e\u4f8b<\/p>\n<p>2\u3001\u9009\u53d6\u5176\u4e2d\u4e00\u4e2a\u5b9e\u4f8binstance1\uff0c\u4fee\u6539pfile init$sid.ora,\u7531\u4e8e\u662frac\uff0c\u4e14\u6570\u636e\u5e93\u5b89\u88c5\u5728\u88f8\u8bbe\u5907\u4e0a\uff0c9i\u662f\u4ee5spfile\u542f\u52a8\u6570\u636e\u5e93\uff0c\u6240\u4ee5\u5728*\/dbs\u76ee\u5f55\u4e0b\u7684init$sid.ora\u6587\u4ef6\u5185\u5bb9\u4e3a<\/p>\n<p>SPFILE=&#8221;\/dev\/rlvspfile&#8221;,\u6240\u4ee5\u8981\u4fee\u6539pfile\uff0c\u5fc5\u987b\u521b\u5efa\u4e00\u4e2apfile\u5148<\/p>\n<p>3\u3001sql&gt;create pfile from spfile;<\/p>\n<p>\u4ee5\u4e0a \u5728\u9ed8\u8ba4\u76ee\u5f55\u4e0b\u751f\u6210pfile\u6587\u4ef6\uff0c<\/p>\n<p>\u60a8\u4e5f\u53ef\u4ee5\u5728\u6307\u5b9a\u76ee\u5f55\u751f\u6210pfile\uff0c\u5efa\u8bae\u5728\u6307\u5b9a\u76ee\u5f55\u751f\u6210pfile<\/p>\n<p>4\u3001\u4f7f\u7528vi\u7f16\u8f91\u751f\u6210\u7684pfile\uff0c\u5e76\u4fee\u6539\u4ee5\u4e0b\u53c2\u6570\u4e3a\uff1a<\/p>\n<p>cluster_database\uff1dfalse<\/p>\n<p>\u5bf9\u4e8elog_archive_format\u7b49\u53c2\u6570\u53ef\u6682\u65f6\u4e0d\u505a\u4fee\u6539<\/p>\n<p>5\u3001\u4fee\u6539\u5b8c\u53c2\u6570\u4ee5\u540e\uff0c\u4ee5\u521a\u4fee\u6539\u7684\u53c2\u6570\u6587\u4ef6\u542f\u52a8\u6570\u636e\u5e93\u5b9e\u4f8binstance1<\/p>\n<p>sql&gt;startup nomount pfile=&#8221;\u4fee\u6539\u7684pfile\u8def\u5f84&#8221;<\/p>\n<p>6\u3001\u4f7f\u6570\u636e\u5e93\u4ee5exclusive\u6a21\u5f0f\u542f\u52a8<\/p>\n<p>sql&gt;alter database mount exclusive<\/p>\n<p>7\u3001\u6539\u53d8\u5f52\u6863\u6a21\u5f0f<\/p>\n<p>sql&gt;alter database archivelog<\/p>\n<p>8\u3001\u5c06pfile\u53c2\u6570\u6587\u4ef6\u4e2d\u7684 cluster_database=true\u6539\u56de<br \/>\n103f<br \/>\n9\u3001\u66f4\u65b0spfile\u53c2\u6570<\/p>\n<p>sql&gt;create spfile from pfile=&#8221;\u4fee\u6539\u7684pfile&#8221;<\/p>\n<p>10\u3001\u5173\u95ed\u6570\u636e\u5e93\u5b9e\u4f8b<\/p>\n<p>sql&gt;shutdown immediate<\/p>\n<p>\u5c06\u9ed8\u8ba4\u76ee\u5f55\u4e0b\u7684init$SID.ora\u4fee\u6539\u4e3aspfile\uff1d&#8221;\/dev\/rlvspfile&#8221;<\/p>\n<p>11\u3001\u542f\u52a8\u4e24\u4e2a\u5b9e\u4f8b<\/p>\n<p>sql&gt;startup<\/p>\n<p>sql&gt;startup<\/p>\n<p>\u81f3\u6b64 \u6570\u636e\u5e93\u5c31\u5904\u4e8e\u5f52\u6863\u6a21\u5f0f\u4e86<\/p>\n<p>\u5bf9\u4e8e\u5f52\u6863\u683c\u5f0f \uff0c\u81ea\u52a8\u5f52\u6863\uff0c\u5f52\u6863\u8def\u5f84\u7b49\u53c2\u6570\u4f60\u53ef\u4ee5\u901a\u8fc7alter system set\u4fee\u6539\uff0c\u4f46\u662f\u6ce8\u610flog_archive_dest\u53c2\u6570\u7684\u503c\u5fc5\u987b\u5e26\u6709\uff05t\u7ebf\u7a0b\u53f7\u4ee5\u533a\u5206\u4e0d\u540c\u5b9e\u4f8b\u751f\u6210\u7684\u5f52\u6863\u65e5\u5fd7<\/p>\n<p>\u53e6\u5916\u6570\u636e\u5e93\u662f\u4ee5spfile\u542f\u52a8\u7684\uff0c\u6ce8\u610f\u5c06*\/dbs\u76ee\u5f55\u4e0b\u7684init$sid.ora\u6587\u4ef6\u6062\u590d\u4e3a<\/p>\n<p>spfile=&#8221;\/dev\/rlvspfile&#8221;<\/p>\n<p>\u7b2c7\u6b65\u4ee5\u540e\uff1a<\/p>\n<p>8\u3001shutdown immediate<\/p>\n<p>9\u3001\u4fee\u6539initsid.ora\u6587\u4ef6\u4e2d\u7684 cluster_database=true<\/p>\n<p>10\u3001\u4ee5\u4fee\u6539\u7684pfile\u542f\u52a8startup\u5b9e\u4f8binstance1<\/p>\n<p>11\u3001create spfile from pfile\uff1d\u2019\u00d7\u00d7&#8221;<\/p>\n<p>12\u3001\u5173\u95ed\u6570\u636e\u5e93\uff0c\u4fee\u6539\u9ed8\u8ba4\u76ee\u5f55\u4e0b\u7684pfile\u53c2\u6570\u4e3aspfile\uff1d&#8221;\/dev\/rlvspfile&#8221;<\/p>\n<p>13\u3001\u542f\u52a8\u4e24\u4e2a\u5b9e\u4f8b<\/p>\n<p>\u5355\u5b9e\u4f8b\u4e0b\uff0c\u4fee\u6539\u6570\u636e\u5e93\u5f52\u6863\u6a21\u5f0f\uff1a<\/p>\n<p>1\u3001shutdown immediate<\/p>\n<p>2\u3001startup mount<\/p>\n<p>3\u3001alter database archivelog<\/p>\n<p>4\u3001alter database open<\/p>\n","protected":false},"excerpt":{"rendered":"<p>oracle\u7684\u6240\u6709\u9ed8\u8ba4\u914d\u7f6e\u90fd\u662f\u4e0d\u597d\u7684\uff0c\u8981\u4e0d\u7136\u670d\u52a1\u5c31\u5356\u4e0d\u4e86\u94b1\u4e86\u00b7\u00b7 \u6570\u636e\u5e93\u9ed8\u8ba4\u5b89\u88c5\u4ee5\u540e\uff0c\u6240\u6709\u90fd\u662f\u975e\u5f52\u6863\u6a21\u5f0f\uff0c\u8fd9\u6837 [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[20],"tags":[],"class_list":["post-56","post","type-post","status-publish","format-standard","hentry","category-oracle"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/56","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=56"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/56\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=56"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=56"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=56"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}