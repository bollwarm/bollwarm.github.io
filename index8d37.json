{"id":160,"date":"2013-07-11T16:42:55","date_gmt":"2013-07-11T08:42:55","guid":{"rendered":"http:\/\/localhost\/?p=160"},"modified":"2013-07-11T16:42:55","modified_gmt":"2013-07-11T08:42:55","slug":"%e8%ae%a1%e7%ae%97%e5%86%9c%e5%8e%86%e7%9a%84%e5%87%bd%e6%95%b0%e6%b1%87%e7%bc%96%e5%8e%9f%e7%a0%81%ef%bc%881%ef%bc%89zz","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=160","title":{"rendered":"\u8ba1\u7b97\u519c\u5386\u7684\u51fd\u6570\u6c47\u7f16\u539f\u7801\uff081\uff09\/zz\/"},"content":{"rendered":"<p>;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\u519c\u5386\u8ba1\u7b97\u51fd\u6570\u539f\u4ee3\u7801&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;<br \/>\n;=============\u68c0\u6d4b\u9633\u5386\u5bf9\u5e94\u5e74\u4efd\u662f\u5426\u95f0\u5e74==========<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax = 1 \u662f\u95f0\u5e74\uff0c\u5426\u5219 eax = 0<br \/>\n_IsLeapYear proto dwYear:dword<br \/>\n;=============\u53d6\u9633\u5386\u5bf9\u5e94\u5e74\u6708\u7684\u5929\u6570==============<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax = \u5929\u6570<br \/>\n_GetMonthDays proto dwYear:dword,dwMonth:dword<br \/>\n;=============\u53d6\u9633\u5386\u5bf9\u5e94\u661f\u671f\u51e0==================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd\uff0c\u65e5<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax=\u661f\u671f\uff0c\u661f\u671f\u65e5=0\uff0c\u661f\u671f\u4e00=1&#8230;<br \/>\n_GetWeekDay proto dwYear:dword,dwMonth:dword,dwDay:dword<br \/>\n;=============\u53d6\u5bf9\u5e94\u9633\u5386\u6708\u7684\u8282\u6c14\u65e5==============<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aal =\u7b2c\u4e00\u8282\u6c14\u65e5\uff0cah =\u7b2c\u4e8c\u8282\u6c14\u65e5<br \/>\n_sTermOff proto dwYear:dword,dwMonth:dword<br \/>\n;=============\u53d6\u5bf9\u5e94\u9633\u5386\u65e5\u671f\u7684\u8282\u6c14\u5e8f\u53f7==========<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd\uff0c\u65e5<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax=\u8282\u6c14\u5e8f\u53f7\uff0c\u5c0f\u5bd2=1\uff0c\u5927\u5bd2=2&#8230;<br \/>\n_GetHolDay proto dwYear:dword,dwMonth:dword,dwDay:dword<br \/>\n;=103f============\u53d6\u4e24\u4e2a\u9633\u5386\u65e5\u671f\u4e4b\u95f4\u7684\u5929\u6570==========<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd1\uff0c\u6708\u4efd1\uff0c\u65e51\uff0c\u5e74\u4efd2\uff0c\u6708\u4efd2\uff0c\u65e52(\u7b2c\u4e00\u4e2a\u4e3a\u88ab\u51cf\u6570)<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1a\u5929\u6570<\/p>\n<p><!--more--><br \/>\n_GetBetweenDays proto dwYear1:dword,dwMonth1:dword,dwDay1:dword,dwYear2:dword,dwMonth2:dword,dwDay2:dword<br \/>\n;=============\u53d6\u519c\u5386\u5e74\u7684\u5929\u6570====================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1a\u5929\u6570<br \/>\n_GetLunarYearDays proto dwYear:dword<br \/>\n;=============\u53d6\u519c\u5386\u6708\u7684\u5929\u6570====================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1a\u5929\u6570<br \/>\n_GetLunarMonthDays proto dwYear:dword,dwMonth:dword<br \/>\n;=============\u586b\u5145\u519c\u5386\u6570\u636e\u7ed3\u6784==================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u519c\u5386\u6570\u636e\u7ed3\u6784\u6307\u9488\uff08\u5176\u4e2d\u9633\u5386\u5fc5\u987b\u5df2\u586b\u597d\uff09<br \/>\n_GetLunarData proto _lpstLunarData:dword<br \/>\n;=============\u53d6\u519c\u5386\u6708\u65e5\u5b57\u7b26\u4e32==================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5df2\u586b\u5145\u597d\u519c\u5386\u6570\u636e\u7ed3\u6784\u6307\u9488<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1a\u5b57\u7b26\u4e32\u7f13\u51b2\u533a\u6307\u9488\uff08\u6700\u5c1113\u5b57\u8282\uff09<br \/>\n_GetLunarStr proto _lpstLunarData:dword,lpBuffer:dword<br \/>\n;=============\u5e72\u652f\u5e8f\u53f7\u8f6c\u6362\u6210\u5b57\u7b26==================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e72\u652f\u5e8f\u53f7<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax=\u5b57\u7b26<br \/>\n_GetGzStr proto GzNumber:dword<br \/>\n;=============\u5e72\u652f\u5e8f\u53f7\u8f6c\u6362\u4e94\u884c\u751f\u8096==============<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e72\u652f\u5e8f\u53f7<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax=\u4f4e16\u4f4d\u751f\u8096\uff0c\u9ad816\u4f4d\u4e94\u884c<br \/>\n_GetSxStr proto GzNumber:dword<br \/>\n;=============\u8282\u6c14\u5e8f\u53f7\u8f6c\u6362\u5b57\u7b26=================<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u8282\u6c14\u5e8f\u53f7<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax=\u8282\u6c14\u5e8f\u53f7\u5b57\u7b26<br \/>\n_GetHDStr proto HdNumber:dword<br \/>\n;**************************************************<br \/>\nLUNARDATA\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 struct<br \/>\ndwYear\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0dw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u8f93\u5165\u53c2\u6570 &#8211; \u5e74\uff0c\u5341\u8fdb\u5236\uff0c\u4f8b\u5982 2000<br \/>\ndwMonth\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 dw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u8f93\u5165\u53c2\u6570 &#8211; \u6708\uff0c\u5341\u8fdb\u5236\uff0c\u4f8b\u5982 10<br \/>\ndwDay\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 dw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u8f93\u5165\u53c2\u6570 &#8211; \u65e5\uff0c\u5341\u8fdb\u5236\uff0c\u4f8b\u5982 1<\/p>\n<p>dwLunarYear\u00a0\u00a0\u00a0\u00a0 dw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u519c\u5386\u5e74\uff0c\u5982 2000<br \/>\ndbLunarMonth\u00a0\u00a0\u00a0\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u519c\u5386\u6708\uff0c\u5982 12<br \/>\ndbLunarDay\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u519c\u5386\u65e5\uff0c\u5982 31<br \/>\ndbWeekDay\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u661f\u671f\uff0c\u661f\u671f\u65e5=0\uff0c\u661f\u671f\u4e00=1&#8230;<br \/>\ndbIsLeapMonth\u00a0\u00a0 db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u662f\u5426\u662f\u95f0\u6708\uff0c\u8fd4\u56de 1 \u4e3a\u519c\u5386\u95f0\u6708<\/p>\n<p>noLunarYear\u00a0\u00a0\u00a0\u00a0 db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u5e72\u652f\u5e74\uff0c\u7532\u5b50=0\uff0c\u4e59\u4e11=1&#8230;<br \/>\nnoLunarMonth\u00a0\u00a0\u00a0\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u5e72\u652f\u6708\uff0c\u7532\u5b50=0\uff0c\u4e59\u4e11=1&#8230;<br \/>\nnoLunarDay&amp;nbs103fp;\u00a0\u00a0\u00a0\u00a0\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u5e72\u652f\u65e5\uff0c\u7532\u5b50=0\uff0c\u4e59\u4e11=1&#8230;<br \/>\nnoLunarHolDay\u00a0\u00a0 db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0?\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u519c\u5386\u8282\u6c14\uff0c\u5c0f\u5bd2=1\uff0c\u5927\u5bd2=2<br \/>\nLUNARDATA\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ends<br \/>\n;**************************************************<br \/>\n.code<br \/>\nLunarInfo\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 dw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a004bd8h,04ae0h,0a570h,054d5h,0d260h,0d950h,06554h,056a0h,09ad0h,055d2h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a004ae0h,0a5b6h,0a4d0h,0d250h,0d255h,0b540h,0d6a0h,0ada2h,095b0h,04977h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a004970h,0a4b0h,0b4b5h,06a50h,06d40h,0ab54h,02b60h,09570h,052f2h,04970h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a006566h,0d4a0h,0ea50h,06e95h,05ad0h,02b60h,086e3h,092e0h,0c8d7h,0c950h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00d4a0h,0d8a6h,0b550h,056a0h,0a5b4h,025d0h,092d0h,0d2b2h,0a950h,0b557h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a006ca0h,0b550h,05355h,04da0h,0a5d0h,04573h,052d0h,0a9a8h,0e950h,06aa0h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00aea6h,0ab50h,04b60h,0aae4h,0a570h,05260h,0f263h,0d950h,05b57h,056a0h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0096d0h,04dd5h,04ad0h,0a4d0h,0d4d4h,0d250h,0d558h,0b540h,0b5a0h,095a6h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0095b0h,049b0h,0a974h,0a4b0h,0b27ah,06a50h,06d40h,0af46h,0ab60h,09570h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a004af5h,04970h,064b0h,074a3h,0ea50h,06b58h,055c0h,0ab60h,096d5h,092e0h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00c960h,0d954h,0d4a0h,0da50h,07552h,056a0h,0abb7h,025d0h,092d0h,0cab5h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00a950h,0b4a0h,0baa4h,0ad50h,055d9h,04ba0h,0a5b0h,05176h,052b0h,0a930h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a007954h,06aa0h,0ad50h,05b52h,04b60h,0a6e6h,0a4e0h,0d260h,0ea65h,0d530h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a005aa0h,076a3h,096d0h,04bd7h,04ad0h,0a4d0h,0d0b6h,0d250h,0d520h,0dd45h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a00b5a0h,056d0h,055b2h,049b0h,0a577h,0a4b0h,0aa50h,0b255h,06d20h,0ada0h<br \/>\ndw\u00a0\u00a0\u00a0\u00a0\u00a0\u00a004b63h<br \/>\nleapBigTab\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a000000010b,00000010b,00010000b,01000000b,00001010b<br \/>\ndb\u00a0\u00a0\u00a0\u00a0\u00a0\u00a001001000b,00001001b,00000000b,00000000b,00000001b<br \/>\n&amp;nbs103fp;\u00a0db\u00a0\u00a0\u00a0\u00a0\u00a0\u00a000000000b,00000000b,00000000b,00000000b,00000100b<br \/>\ndb\u00a0\u00a0\u00a0\u00a0\u00a0\u00a000000000b,00000000b,10000000b,00010010b<br \/>\n;=============\u68c0\u6d4b\u5bf9\u5e94\u5e74\u4efd\u662f\u5426\u95f0\u5e74=============<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax = 1 \u662f\u95f0\u5e74\uff0c\u5426\u5219 eax = 0<br \/>\n_IsLeapYear\u00a0\u00a0\u00a0\u00a0 proc dwYear:dword<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 eax,eax<br \/>\npushad<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ebx,dwYear<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,ebx<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,400<br \/>\ndiv\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\nor\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0edx,edx<br \/>\nje\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loc002<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,ebx<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,100<br \/>\ndiv\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\nor\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0edx,edx<br \/>\nje\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loc001<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,ebx<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,4<br \/>\ndiv\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\n&amp;n103fbsp;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0or\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0edx, edx<br \/>\njne\u00a0\u00a0\u00a0\u00a0 loc001<br \/>\nloc002:\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 inc\u00a0\u00a0\u00a0\u00a0 dword ptr [esp+1Ch]\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;returnEAX<br \/>\nloc001:\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 popad<br \/>\nret<br \/>\n_IsLeapYear\u00a0\u00a0\u00a0\u00a0 endp<br \/>\n;==============\u53d6\u5bf9\u5e94\u9633\u5386\u5e74\u6708\u7684\u5929\u6570============<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u5165\uff1a\u5e74\u4efd\uff0c\u6708\u4efd<br \/>\n;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u8f93\u51fa\uff1aeax = \u5929\u6570<br \/>\n_GetMonthDays\u00a0\u00a0 proc dwYear:dword,dwMonth:dword<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ah,byte ptr dwMonth<br \/>\ncmp\u00a0\u00a0\u00a0\u00a0 ah,8<br \/>\nsetnc\u00a0\u00a0 al<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 al,ah\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;1~12\u6708\u5f97\u6570\uff1a(1),2,(3),4,(5),6,(7),(9),10,(11),12,(13)<br \/>\nand\u00a0\u00a0\u00a0\u00a0 al,1<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 al,30<br \/>\ncmp\u00a0\u00a0\u00a0\u00a0 ah,2<br \/>\njne\u00a0\u00a0\u00a0\u00a0 l01<br \/>\ninvoke\u00a0\u00a0_IsLeapYear,dwYear<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 al,28<br \/>\nl01:\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0movzx\u00a0\u00a0 eax,al<br \/>\nret<br \/>\n_GetMonthDays\u00a0\u00a0 endp<br \/>\n;==================================<br \/>\n_GetWeekDay\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 proc dwYear:dword,dwMonth:dword,dwDay:dword<br \/>\npushad<br \/>\nmovzx\u00a0\u00a0 esi,word ptr dwYear<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 bh,byte ptr dwMonth<br \/>\n&amp;nbsp103f;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0mov\u00a0\u00a0\u00a0\u00a0 bl,byte ptr dwDay<br \/>\ndec\u00a0\u00a0\u00a0\u00a0 esi<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 edi,esi\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u6bcf\u5e74\u52a01\u5929(365\/7\u4f59\u6570\u662f1)<br \/>\ncmp\u00a0\u00a0\u00a0\u00a0 bh,3\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0;\u4ee5\u4e0b\u8ba1\u7b97\u95f0\u5e74\u6570<br \/>\ncmc<br \/>\nadc\u00a0\u00a0\u00a0\u00a0 esi,0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;2\u6708\u4efd\u4e4b\u524d\u4e0d\u542b\u672c\u5e74<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,esi<br \/>\nshr\u00a0\u00a0\u00a0\u00a0 eax,2<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u6bcf4\u5e74\u4e00\u95f0<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,esi<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,100<br \/>\ndiv\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\nsub\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u88ab100\u6574\u9664\u4e0d\u95f0<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 eax,esi<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,400<br \/>\ndiv\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0&amp;nbs103fp;\u00a0\u00a0\u00a0\u00a0 ;\u88ab400\u6574\u9664\u8fd8\u662f\u8981\u95f0<br \/>\nmovzx\u00a0\u00a0 eax,bh\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0;\u4ee5\u4e0b\u8ba1\u7b97\u524d\u4e00\u6708\u5230\u5e74\u5934\u7684\u5929\u6570<br \/>\ndec\u00a0\u00a0\u00a0\u00a0 al<br \/>\nshl\u00a0\u00a0\u00a0\u00a0 eax,1<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u6bcf\u6708\u5148\u4ee530\u8ba1\u7b97(30\/7\u4f59\u6570\u662f2)<br \/>\ncmp\u00a0\u00a0\u00a0\u00a0 bh,8<br \/>\nsetnc\u00a0\u00a0 al<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 al,bh\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;1~12\u6708\u5f97\u6570\uff1a(1),2,(3),4,(5),6,(7),(9),10,(11),12,(13)<br \/>\nshr\u00a0\u00a0\u00a0\u00a0 al,1\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0;1~12\u6708\u5f97\u6570\uff1a(0),1,(1),2,(2),3,(3),(4),5,(5),6,(6)<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u5927\u6708\u5929\u6570<br \/>\ncmp\u00a0\u00a0\u00a0\u00a0 bh,3<br \/>\nsetnc\u00a0\u00a0 al<br \/>\nshl\u00a0\u00a0\u00a0\u00a0 al,1<br \/>\nsub\u00a0\u00a0\u00a0\u00a0 edi,eax\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u5e73\u6708\u51cf\u4e8c<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 al,bl<br \/>\nadd\u00a0\u00a0\u00a0\u00a0 eax,edi\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;\u65e5\u6570<br \/>\nxor\u00a0\u00a0\u00a0\u00a0 edx,edx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 ecx,7<br \/>\n&amp;nb103fsp;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0div\u00a0\u00a0\u00a0\u00a0 ecx<br \/>\nmov\u00a0\u00a0\u00a0\u00a0 dword ptr [esp+1Ch],edx\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ;returnEAX<br \/>\npopad<br \/>\nret<br \/>\n_GetWeekDay\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 endp<\/p>\n","protected":false},"excerpt":{"rendered":"<p>;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\u519c\u5386\u8ba1\u7b97\u51fd\u6570\u539f\u4ee3\u7801&#038; [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[12],"tags":[52],"class_list":["post-160","post","type-post","status-publish","format-standard","hentry","category-program","tag-52"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/160","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=160"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/160\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=160"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=160"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=160"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}