{"id":137,"date":"2013-07-11T15:34:15","date_gmt":"2013-07-11T07:34:15","guid":{"rendered":"http:\/\/localhost\/?p=137"},"modified":"2013-07-11T15:34:15","modified_gmt":"2013-07-11T07:34:15","slug":"%e6%b5%85%e6%9e%90asp-net%e4%b8%ad%e7%9a%84web-config%e6%96%87%e4%bb%b6zz","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=137","title":{"rendered":"\u6d45\u6790Asp.net\u4e2d\u7684Web.config\u6587\u4ef6\/zz\/"},"content":{"rendered":"<p>\u4e00\u3001\u8ba4\u8bc6Web.config\u6587\u4ef6<br \/>\nWeb.config\u6587\u4ef6\u662f\u4e00\u4e2aXML\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u7528\u6765\u50a8\u5b58 ASP.NET Web \u5e94\u7528\u7a0b\u5e8f\u7684\u914d\u7f6e\u4fe1\u606f\uff08\u5982\u6700\u5e38\u7528\u7684\u8bbe\u7f6eASP.NET Web \u5e94\u7528\u7a0b\u5e8f\u7684\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff09\uff0c\u5b83\u53ef\u4ee5\u51fa\u73b0\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u6bcf\u4e00\u4e2a\u76ee\u5f55\u4e2d\u3002\u5f53\u4f60\u901a\u8fc7VB.NET\u65b0\u5efa\u4e00\u4e2aWeb\u5e94\u7528\u7a0b\u5e8f\u540e\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u5728\u6839\u76ee\u5f55\u81ea\u52a8\u521b\u5efa\u4e00\u4e2a\u9ed8\u8ba4 \u7684<br \/>\nWeb.config\u6587\u4ef6\uff0c\u5305\u62ec\u9ed8\u8ba4\u7684\u914d\u7f6e\u8bbe\u7f6e\uff0c\u6240\u6709\u7684\u5b50\u76ee\u5f55\u90fd\u7ee7\u627f\u5b83\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002\u5982\u679c\u4f60\u60f3\u4fee\u6539\u5b50\u76ee\u5f55\u7684\u914d\u7f6e\u8bbe\u7f6e\uff0c\u4f60\u53ef\u4ee5\u5728\u8be5\u5b50\u76ee\u5f55\u4e0b\u65b0\u5efa\u4e00\u4e2aWeb.config\u6587\u4ef6\u3002\u5b83\u53ef\u4ee5\u63d0\u4f9b\u9664\u4ece\u7236\u76ee\u5f55\u7ee7\u627f\u7684\u914d\u7f6e\u4fe1\u606f\u4ee5\u5916\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u4e5f\u53ef\u4ee5\u91cd\u5199\u6216\u4fee\u6539\u7236\u76ee\u5f55\u4e2d\u5b9a\u4e49\u7684\u8bbe\u7f6e\u3002<\/p>\n<p>\u5728\u8fd0\u884c\u65f6\u5bf9Web.config\u6587\u4ef6\u7684\u4fee\u6539\u4e0d\u9700\u8981\u91cd\u542f\u670d\u52a1\u5c31\u53ef\u4ee5\u751f\u6548\uff08\u6ce8\uff1a\uff1cprocessModel\uff1e \u8282\u4f8b\u5916\uff09\u3002\u5f53\u7136Web.config\u6587\u4ef6\u662f\u53ef\u4ee5\u6269\u5c55\u7684\u3002\u4f60\u53ef\u4ee5\u81ea\u5b9a\u4e49\u65b0\u914d\u7f6e\u53c2\u6570\u5e76\u7f16\u5199\u914d\u7f6e\u8282\u5904\u7406\u7a0b\u5e8f\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u5904\u7406\u3002<\/p>\n<p>\u4e8c\u3001web.config\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\u7684\u914d\u7f6e\u8bbe\u7f6e\uff09\u4ee5\u4e0b\u6240\u6709\u7684\u4ee3\u7801\u90fd\u5e94\u8be5\u4f4d\u4e8e<\/p>\n<p>\uff1cconfiguration\uff1e<br \/>\n\uff1csystem.web\uff1e<\/p>\n<p>\u548c<\/p>\n<p>\uff1c\/system.web\uff1e<br \/>\n\uff1c\/configuration\uff1e<\/p>\n<p>\u4e4b\u95f4\uff0c\u51fa\u4e8e\u5b66\u4e60\u7684\u76ee\u7684\u4e0b\u9762\u7684\u793a\u4f8b\u90fd\u7701\u7565\u4e86\u8fd9\u6bb5XML\u6807\u8bb0<\/p>\n<p>1\u3001\uff1cauthentication\uff1e \u8282<\/p>\n<p>\u4f5c\u7528\uff1a\u914d\u7f6e ASP.NET \u8eab\u4efd\u9a8c\u8bc1\u652f\u6301\uff08\u4e3aWindows\u3001Forms\u3001PassPort\u3001None\u56db\u79cd\uff09\u3002\u8be5\u5143\u7d20\u53ea\u80fd\u5728\u8ba1\u7b97\u673a\u3001\u7ad9\u70b9\u6216\u5e94\u7528\u7a0b\u5e8f\u7ea7\u522b\u58f0\u660e\u3002\uff1cauthentication\uff1e \u5143\u7d20\u5fc5\u9700\u4e0e\uff1cauthorization\uff1e \u8282\u914d\u5408\u4f7f\u7528\u3002<\/p>\n<p>\u793a\u4f8b\uff1a<\/p>\n<p>\u4ee5\u4e0b\u793a\u4f8b\u4e3a\u57fa\u4e8e\u7a97\u4f53\uff08Forms\uff09\u7684\u8eab\u4efd\u9a8c\u8bc1\u914d\u7f6e\u7ad9\u70b9\uff0c\u5f53\u6ca1\u6709\u767b\u9646\u7684\u7528\u6237\u8bbf\u95ee\u9700\u8981\u8eab\u4efd\u9a8c\u8bc1\u7684\u7f51\u9875\uff0c\u7f51\u9875\u81ea\u52a8\u8df3\u8f6c\u5230\u767b\u9646\u7f51\u9875\u3002<\/p>\n<p>\uff1cauthentication mode=&#8221;Forms&#8221; \uff1e<br \/>\n\uff1cforms loginUrl=&#8221;logon.aspx&#8221; name=&#8221;.FormsAuthCookie&#8221;\/\uff1e<\/p>\n<p>\uff1c\/authentication\uff1e<\/p>\n<p>\u5176\u4e2d\u5143\u7d20loginUrl\u8868\u793a\u767b\u9646\u7f51\u9875\u7684\u540d\u79f0\uff0cname\u8868\u793aCookie\u540d\u79f0<\/p>\n<p>2\u3001\uff1cauthorization\uff1e \u8282<\/p>\n<p>\u4f5c\u7528\uff1a\u63a7\u5236\u5bf9 URL \u8d44\u6e90\u7684\u5ba2\u6237\u7aef\u8bbf\u95ee\uff08\u5982\u5141\u8bb8\u533f\u540d\u7528\u6237\u8bbf\u95ee\uff09\u3002\u6b64\u5143\u7d20\u53ef\u4ee5\u5728\u4efb\u4f55\u7ea7\u522b\uff08\u8ba1\u7b97\u673a\u3001\u7ad9\u70b9\u3001\u5e94\u7528\u7a0b\u5e8f\u3001\u5b50\u76ee\u5f55\u6216\u9875\uff09\u4e0a\u58f0\u660e\u3002\u5fc5\u9700\u4e0e\uff1cauthentication\uff1e \u8282\u914d\u5408\u4f7f\u7528\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u4ee5\u4e0b\u793a\u4f8b\u7981\u6b62\u533f\u540d\u7528\u6237\u7684\u8bbf\u95ee<\/p>\n<p>\uff1cauthorization\uff1e<br \/>\n\uff1cdeny users=&#8221;?&#8221;\/\uff1e<br \/>\n\uff1c\/authorization\uff1e<\/p>\n<p>\u6ce8\uff1a\u4f60\u53ef\u4ee5\u4f7f\u7528user.identity.name\u6765\u83b7\u53d6\u5df2\u7ecf\u8fc7\u9a8c\u8bc1\u7684\u5f53\u524d\u7684\u7528\u6237\u540d\uff1b\u53ef\u4ee5\u4f7f\u7528<br \/>\nweb.Security.FormsAuthentication.RedirectFromLoginPage\u65b9\u6cd5\u5c06\u5df2\u9a8c\u8bc1\u7684\u7528\u6237\u91cd\u5b9a\u5411\u5230\u7528\u6237\u521a\u624d\u8bf7\u6c42\u7684\u9875\u9762.\u5177\u4f53\u7684\u5b9e\u4f8b\u8bf7\u53c2\u8003:<\/p>\n<p>Forms\u9a8c\u8bc1 http:\/\/www.fanvb.net\/websample\/dataauth.aspx<br \/>\n3\u3001\uff1ccompilation\uff1e\u8282<\/p>\n<p>\u4f5c\u7528\uff1a\u914d\u7f6e ASP.NET \u4f7f\u7528\u7684\u6240\u6709\u7f16\u8bd1\u8bbe\u7f6e\u3002\u9ed8\u8ba4\u7684debug\u5c5e\u6027\u4e3a\u201cTrue\u201d.\u5728\u7a0b\u5e8f\u7f16\u8bd1\u5b8c\u6210\u4ea4\u4ed8\u4f7f\u7528\u4e4b\u540e\u5e94\u5c06\u5176\u8bbe\u4e3aTrue\uff08Web.config\u6587\u4ef6\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u6b64\u5904\u7701\u7565\u793a\u4f8b\uff09<\/p>\n<p>4\u3001\uff1ccustomErrors\uff1e<\/p>\n<p>\u4f5c\u7528\uff1a\u4e3a ASP.NET \u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u6709\u5173\u81ea\u5b9a\u4e49\u9519\u8bef\u4fe1\u606f\u7684\u4fe1\u606f\u3002\u5b83\u4e0d\u9002\u7528\u4e8e XML Web services \u4e2d\u53d1\u751f\u7684\u9519\u8bef\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u5f53\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u5c06\u7f51\u9875\u8df3\u8f6c\u5230\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\u9875\u9762\u3002<\/p>\n<p>\uff1ccustomErrors defaultRedirect=&#8221;ErrorPage.aspx&#8221; mode=&#8221;RemoteOnly&#8221;\uff1e<br \/>\n\uff1c\/customErrors\uff1e<\/p>\n<p>\u5176\u4e2d\u5143\u7d20defaultRedirect\u8868\u793a\u81ea\u5b9a\u4e49\u7684\u9519\u8bef\u7f51\u9875\u7684\u540d\u79f0\u3002mode\u5143\u7d20\u8868\u793a\uff1a\u5bf9\u4e0d\u5728\u672c\u5730 Web \u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\u7528\u6237\u663e\u793a\u81ea\u5b9a\u4e49(\u53cb\u597d\u7684)\u4fe1\u606f\u3002<\/p>\n<p>5\u3001\uff1chttpRuntime\uff1e\u8282<\/p>\n<p>\u4f5c\u7528\uff1a\u914d\u7f6e ASP.NET HTTP \u8fd0\u884c\u5e93\u8bbe\u7f6e\u3002\u8be5\u8282\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u3001\u7ad9\u70b9\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u5b50\u76ee\u5f55\u7ea7\u522b\u58f0\u660e\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u63a7\u5236\u7528\u6237\u4e0a\u4f20\u6587\u4ef6\u6700\u5927\u4e3a4M\uff0c\u6700\u957f\u65f6\u95f4\u4e3a60\u79d2\uff0c\u6700\u591a\u8bf7\u6c42\u6570\u4e3a100<\/p>\n<p>\uff1chttpRuntime maxRequestLength=&#8221;4096&#8243; executionTimeout=&#8221;60&#8243; appRequestQueueLimit=&#8221;100&#8243;\/\uff1e<\/p>\n<p>6\u3001 \uff1cpages\uff1e<\/p>\n<p>\u4f5c\u7528\uff1a\u6807\u8bc6\u7279\u5b9a\u4e8e\u9875\u7684\u914d\u7f6e\u8bbe\u7f6e\uff08\u5982\u662f\u5426\u542f\u7528\u4f1a\u8bdd\u72b6\u6001\u3001\u89c6\u56fe\u72b6\u6001\uff0c\u662f\u5426\u68c0\u6d4b\u7528\u6237\u7684\u8f93\u5165\u7b49\uff09\u3002\uff1cpages\uff1e\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u3001\u7ad9\u70b9\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u5b50\u76ee\u5f55\u7ea7\u522b\u58f0\u660e\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u4e0d\u68c0\u6d4b\u7528\u6237\u5728\u6d4f\u89c8\u5668\u8f93\u5165\u7684\u5185\u5bb9\u4e2d\u662f\u5426\u5b58\u5728\u6f5c\u5728\u7684\u5371\u9669\u6570\u636e\uff08\u6ce8\uff1a\u8be5\u9879\u9ed8\u8ba4\u662f\u68c0\u6d4b\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u4e86\u4e0d\u68c0\u6d4b\uff0c\u4e00\u8981\u5bf9\u7528\u6237\u7684\u8f93\u5165\u8fdb\u884c\u7f16\u7801\u6216\u9a8c\u8bc1)\uff0c\u5728\u4ece\u5ba2\u6237\u7aef\u56de\u53d1\u9875\u65f6\u5c06\u68c0\u67e5\u52a0\u5bc6\u7684\u89c6\u56fe\u72b6\u6001\uff0c\u4ee5\u9a8c\u8bc1\u89c6\u56fe\u72b6\u6001\u662f\u5426\u5df2\u5728\u5ba2\u6237\u7aef\u88ab\u7be1\u6539\u3002(\u6ce8\uff1a\u8be5\u9879\u9ed8\u8ba4\u662f\u4e0d\u9a8c\u8bc1\uff09<\/p>\n<p>\uff1cpages buffer=&#8221;true&#8221; enableViewStateMac=&#8221;true&#8221; validateRequest=&#8221;false&#8221;\/\uff1e<\/p>\n<p>7\u3001\uff1csessionState\uff1e<\/p>\n<p>\u4f5c\u7528\uff1a\u4e3a\u5f53\u524d\u5e94\u7528\u7a0b\u5e8f\u914d\u7f6e\u4f1a\u8bdd\u72b6\u6001\u8bbe\u7f6e\uff08\u5982\u8bbe\u7f6e\u662f\u5426\u542f\u7528\u4f1a\u8bdd\u72b6\u6001\uff0c\u4f1a\u8bdd\u72b6\u6001\u4fdd\u5b58\u4f4d\u7f6e\uff09\u3002<\/p>\n<p>\u793a\u4f8b\uff1a<\/p>\n<p>\uff1csessionState mode=&#8221;InProc&#8221; cookieless=&#8221;true&#8221; timeout=&#8221;20&#8243;\/\uff1e<br \/>\n\uff1c\/sessionState\uff1e<\/p>\n<p>\u6ce8\uff1a<\/p>\n<p>mode=&#8221;InProc&#8221;\u8868\u793a\uff1a\u5728\u672c\u5730\u50a8\u5b58\u4f1a\u8bdd\u72b6\u6001\uff08\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\u50a8\u5b58\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u6216SAL\u670d\u52a1\u5668\u4e2d\u6216\u4e0d\u542f\u7528\u4f1a\u8bdd\u72b6\u6001\uff09<\/p>\n<p>cookieless=&#8221;true&#8221;\u8868\u793a\uff1a\u5982\u679c\u7528\u6237\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Cookie\u65f6\u542f\u7528\u4f1a\u8bdd\u72b6\u6001(\u9ed8\u8ba4\u4e3aFalse\uff09<\/p>\n<p>timeout=&#8221;20&#8243;\u8868\u793a\uff1a\u4f1a\u8bdd\u53ef\u4ee5\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\u7684\u5206\u949f\u6570<\/p>\n<p>8\u3001\uff1ctrace\uff1e<\/p>\n<p>\u4f5c\u7528\uff1a\u914d\u7f6e ASP.NET \u8ddf\u8e2a\u670d\u52a1\uff0c\u4e3b\u8981\u7528\u6765\u7a0b\u5e8f\u6d4b\u8bd5\u5224\u65ad\u54ea\u91cc\u51fa\u9519\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u4ee5\u4e0b\u4e3aWeb.config\u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\uff1a<\/p>\n<p>\uff1ctrace enabled=&#8221;false&#8221; requestLimit=&#8221;10&#8243; pageOutput=&#8221;false&#8221; traceMode=&#8221;SortByTime&#8221; localOnly=&#8221;true&#8221; \/\uff1e<\/p>\n<p>\u6ce8\uff1a<\/p>\n<p>enabled=&#8221;false&#8221;\u8868\u793a\u4e0d\u542f\u7528\u8ddf\u8e2a\uff1brequestLimit=&#8221;10&#8243;\u8868\u793a\u6307\u5b9a\u5728\u670d\u52a1\u5668\u4e0a\u5b58\u50a8\u7684\u8ddf\u8e2a\u8bf7\u6c42\u7684\u6570\u76ee<\/p>\n<p>pageOutput=&#8221;false&#8221;\u8868\u793a\u53ea\u80fd\u901a\u8fc7\u8ddf\u8e2a\u5b9e\u7528\u5de5\u5177\u8bbf\u95ee\u8ddf\u8e2a\u8f93\u51fa\uff1b<\/p>\n<p>traceMode=&#8221;SortByTime&#8221;\u8868\u793a\u4ee5\u5904\u7406\u8ddf\u8e2a\u7684\u987a\u5e8f\u6765\u663e\u793a\u8ddf\u8e2a\u4fe1\u606f<\/p>\n<p>localOnly=&#8221;true&#8221; \u8868\u793a\u8ddf\u8e2a\u67e5\u770b\u5668 (trace.axd) \u53ea\u7528\u4e8e\u5bbf\u4e3b Web \u670d\u52a1\u5668<br \/>\n\u4e09\u3001\u81ea\u5b9a\u4e49Web.config\u6587\u4ef6\u914d\u7f6e\u8282<\/p>\n<p>\u81ea\u5b9a\u4e49Web.config\u6587\u4ef6\u914d\u7f6e\u8282\u8fc7\u7a0b\u5206\u4e3a\u4e24\u6b65\u3002<\/p>\n<p>\u4e00\u662f\u5728\u5728\u914d\u7f6e\u6587\u4ef6\u9876\u90e8 \uff1cconfigSections\uff1e \u548c \uff1c\/configSections\uff1e\u6807\u8bb0\u4e4b\u95f4\u58f0\u660e\u914d\u7f6e\u8282\u7684\u540d\u79f0\u548c\u5904\u7406\u8be5\u8282\u4e2d\u914d\u7f6e\u6570\u636e\u7684 .NET Framework \u7c7b\u7684\u540d\u79f0\u3002<\/p>\n<p>\u4e8c\u662f\u5728 \uff1cconfigSections\uff1e \u533a\u57df\u4e4b\u540e\u4e3a\u58f0\u660e\u7684\u8282\u505a\u5b9e\u9645\u7684\u914d\u7f6e\u8bbe\u7f6e\u3002<\/p>\n<p>\u793a\u4f8b\uff1a\u521b\u5efa\u4e00\u4e2a\u8282\u5b58\u50a8\u6570\u636e\u5e93\u8fde\u63a5\u5b57\u7b26\u4e32<\/p>\n<p>\uff1cconfiguration\uff1e<br \/>\n\uff1cconfigSections\uff1e<br \/>\n\uff1csection name=&#8221;appSettings&#8221; type=&#8221;System.Configuration.NameValueFileSectionHandler, System, Version=1.0.3300.0, Culture=neutral, PublicKeyToken=b77a5c561934e089&#8243;\/\uff1e<br \/>\n\uff1c\/configSections\uff1e<\/p>\n<p>\uff1cappSettings\uff1e<br \/>\n\uff1cadd key=&#8221;scon&#8221; value=&#8221;server=a;database=northwind;uid=sa;pwd=123&#8243;\/\uff1e<br \/>\n\uff1c\/appSettings\uff1e<\/p>\n<p>\uff1csystem.web\uff1e<br \/>\n&#8230;&#8230;<br \/>\n\uff1c\/system.web\uff1e<br \/>\n\uff1c\/configuration\uff1e<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u4e00\u3001\u8ba4\u8bc6Web.config\u6587\u4ef6 Web.config\u6587\u4ef6\u662f\u4e00\u4e2aXML\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u7528\u6765\u50a8\u5b58 ASP.NET W [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[26,12],"tags":[],"class_list":["post-137","post","type-post","status-publish","format-standard","hentry","category-web","category-program"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/137","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=137"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/137\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=137"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=137"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=137"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}