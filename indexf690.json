{"id":811,"date":"2015-12-02T22:33:43","date_gmt":"2015-12-02T14:33:43","guid":{"rendered":"http:\/\/ijz.me\/?p=788"},"modified":"2015-12-02T22:33:43","modified_gmt":"2015-12-02T14:33:43","slug":"rex-advent-rex-%e5%81%9a%e8%bf%9c%e7%a8%8b%e4%b8%bb%e6%9c%ba%e7%99%bb%e5%bd%95%e8%b4%a6%e5%8f%b7%e5%ae%a1%e8%ae%a1","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=811","title":{"rendered":"rex advent \u2014\u2014rex \u505a\u8fdc\u7a0b\u4e3b\u673a\u767b\u5f55\u8d26\u53f7\u5ba1\u8ba1"},"content":{"rendered":"<p>1\u3001\u8d26\u53f7\uff0c\u6700\u7ecf\u767b\u5f55\u65f6\u95f4\u548cip<\/p>\n<pre class=\"lang:default decode:true \">task \"lastlog\", group =&gt; \"all\", sub {\nmy $lastlog= run \"lastlog|grep -v 'Never logged in'\";\nsay connection-&gt;server.\": $lastlog\";\n};<\/pre>\n<p><!--more--><br \/>\n2\u3001sshd\u5c1d\u8bd5\u767b\u9646\u5931\u8d25\u7684\u8bb0\u5f55\uff08\/var\/log\/secure\uff09<\/p>\n<pre class=\"lang:default decode:true \">task \"sshdfail\", group =&gt; \"all\", sub {\n\n# say connection-&gt;server;\n# my $time= run \"date -d 'yesterday'\u00a0 '+%b %e'\"; # \u6628\u5929\u767b\u5f55\u60c5\u51b5\nmy $time= run \"date\u00a0\u00a0 '+%b %e'\";\u00a0 # \u4eca\u5929\u60c5\u51b5\nmy $sc=q(grep\u00a0 'Failed password for' \/var\/log\/secure|grep -v grep|grep ').$time.\"'\";\nmy $output= run $sc;\nsay connection-&gt;server.\": $output\";\n};<\/pre>\n","protected":false},"excerpt":{"rendered":"<p>1\u3001\u8d26\u53f7\uff0c\u6700\u7ecf\u767b\u5f55\u65f6\u95f4\u548cip task &#8220;lastlog&#8221;, group =&gt; &#8220;all&#8221;, sub { [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[21,23,6],"tags":[29,40,44,51],"class_list":["post-811","post","type-post","status-publish","format-standard","hentry","category-perl","category-rex","category-6","tag-advent","tag-perl","tag-rex","tag-51"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/811","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=811"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/811\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=811"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=811"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=811"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}