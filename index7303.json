{"id":92,"date":"2013-11-30T00:00:00","date_gmt":"2013-11-29T16:00:00","guid":{"rendered":"http:\/\/ijz.me\/?p=92"},"modified":"2013-11-30T00:00:00","modified_gmt":"2013-11-29T16:00:00","slug":"%e4%bb%8e-php-%e4%bb%a3%e7%a0%81%e5%88%86%e6%9e%90-php-%e7%9a%84-gc%e5%9e%83%e5%9c%be%e5%9b%9e%e6%94%b6-%e6%9c%ba%e5%88%b6%e8%bd%ac%e8%87%aabbs-chinaunix-net","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=92","title":{"rendered":"\u4ece PHP \u4ee3\u7801\u5206\u6790 PHP \u7684 GC(\u5783\u573e\u56de\u6536) \u673a\u5236\/\u8f6c\u81eabbs.chinaunix.net\/"},"content":{"rendered":"<p>\u4f5c\u8005:<br \/>\n\u6c38\u4e45\u94fe\u63a5:<br \/>\nEmail\/MSN\/Gtalk:<br \/>\nTime: 2009.11.07<\/p>\n<p>\u4f17\u6240\u5468\u77e5, PHP \u5f15\u64ce\u672c\u8eab\u662f\u7528 C \u5199\u7684,\u63d0\u5230 C \u4e0d\u80fd\u4e0d\u63d0\u7684\u5c31\u662f GC(\u5783\u573e\u56de\u6536).\u901a\u8fc7 <a href=\"http:\/\/cn.php.net\/manual\/en\/index.php\" target=\"_blank\">PHP \u624b\u518c<\/a>\u6211\u4eec\u4e86\u89e3\u5230, PHP \u5f15\u64ce\u4f1a\u81ea\u52a8\u8fdb\u884c GC \u52a8\u4f5c.\u90a3\u4e48\u6211\u4eec\u4e0d\u7981\u8981\u95ee,\u5230\u5e95\u5b83\u662f\u600e\u4e48\u56de\u6536\u7684, &amp; \u5f15\u7528\u64cd\u4f5c\u662f\u4e0d\u662f\u6307\u9488, unset()\u4e86\u4e00\u4e2a\u53d8\u91cf\u65f6\u5b83\u662f\u4e0d\u662f\u771f\u7684\u88ab\u56de\u6536\u4e86\u5462?\u8fd9\u4e9b\u770b\u4f3c\u624b\u518c\u6709\u63d0\u53ca\u7684\u95ee\u9898,\u5982\u679c\u4ed4\u7ec6\u5206\u6790\u4f1a\u53d1\u73b0,\u8fdc\u6ca1\u6709\u90a3\u4e48\u7b80\u5355\u6cdb\u6cdb.\u4e5f\u8bb8\u6709\u4eba\u4f1a\u8df3\u51fa\u6765\u8bf4:\u770b PHP\u6e90\u7801\u4e0d\u5c31\u77e5\u9053\u4e86.\u662f\u7684,\u7b49\u4f60\u901a\u8bfb\u4e86 PHP \u6e90\u7801\u540e\u8fd9\u4e2a\u95ee\u9898\u80af\u5b9a\u4e0d\u5728\u8bdd\u4e0b\u4e86,\u7136\u672c\u7bc7\u8981\u4ec5\u4ece PHP\u672c\u8eab\u6765\u5206\u6790\u8fd9\u4e9b\u770b\u4f3c\u5e73\u5e38\u5374\u88ab\u5ffd\u89c6\u7684\u5c0f\u7ec6\u8282,\u5f53\u7136\u4e86,\u5176\u4e2d\u96be\u514d\u6c34\u5e73\u6240\u9650,\u6709\u6240\u758f\u6f0f,\u70ed\u70c8\u6b22\u8fce\u5e7f\u5927 phper \u6765\u5171\u540c\u8ba8\u8bba.<\/p>\n<p><!--more--><\/p>\n<p>\u9996\u5148\u54b1\u5148\u770b\u5230\u4f8b\u5b50,\u6700\u7b80\u5355\u4e0d\u8fc7\u7684\u6267\u884c\u6d41\u7a0b\u4e86:<br \/>\nExample 1: gc.php<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>echo $b .&#8221;n&#8221;;<br \/>\n?&gt;<\/p>\n<p>\u4e0d\u7528\u8bf4 % php -f gc.php \u8f93\u51fa\u7ed3\u679c\u975e\u5e38\u660e\u4e86:<br \/>\n<em>hy0kl% php -f gc.php<br \/>\nI am test.<\/em><\/p>\n<p>\u597d,\u4e0b\u4e00\u4e2a:<br \/>\nExample 2:<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>$b = &#8216;I will change?&#8217;;\u00a0 \u00a0\u00a0 \u00a0\u00a0 \u00a0\u00a0 \u00a0\u00a0 103f<\/p>\n<p>echo $a .&#8221;n&#8221;;<br \/>\necho $b .&#8221;n&#8221;;<br \/>\n?&gt;<br \/>\n\u6267\u884c\u7ed3\u679c\u4f9d\u7136\u5f88\u660e\u663e:<br \/>\n<em>hy0kl% php -f gc.php<br \/>\nI will change?<br \/>\nI will change?<\/em><\/p>\n<p>\u541b\u8bf7\u770b:<br \/>\nExample 3:<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>unset($a);<\/p>\n<p>echo $a .&#8221;n&#8221;;<br \/>\necho $b .&#8221;n&#8221;;<br \/>\n?&gt;<br \/>\n\u662f\u4e0d\u662f\u5f97\u60f3\u4e00\u4e0b\u4e0b\u5462?<br \/>\n<em>hy0kl% php -f gc.php<br \/>\nNotice: Undefined variable: a in \/usr\/local\/www\/apache22\/data\/test\/gc.php on line 8<br \/>\nI am test.<br \/>\n<\/em>\u6709\u70b9\u72af\u8ff7\u7cca\u4e86\u5417?<\/p>\n<p>\u541b\u518d\u770b:<br \/>\nExample 4:<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>unset($b);<\/p>\n<p>echo $a .&#8221;n&#8221;;<br \/>\necho $b .&#8221;n&#8221;;<br \/>\n?&gt;<br \/>\n\u5176\u5b9e\u5982\u679c Example 3 \u7406\u89e3\u4e86,\u8fd9\u4e2a\u4e0e\u4e4b\u5f02\u66f2\u540c\u5de5.<br \/>\n<em>hy0kl% php -f gc.php<br \/>\nI am test.<br \/>\nNotice: Undefined variable: b in \/usr\/local\/www\/apache22\/data\/test\/gc.php on line 9<\/em><\/p>\n<p>\u541b\u4e14\u770b:<br \/>\nExample 5:<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>$a = null;<\/p>\n<p>echo &#8216;$a = &#8216;. $a .&#8221;n&#8221;;<br \/>\necho &#8216;$b = &#8216;. $b .&#8221;n&#8221;;<br \/>\n?&gt;<br \/>\n\u731b\u7684\u7b2c\u4e00\u611f\u89c9\u662f\u4ec0\u4e48\u6837\u7684?<br \/>\n<em>hy0kl% php -f gc.php<br \/>\n$a =<br \/>\n$b =<\/em><br \/>\n\u6ca1\u9519,\u8fd9\u5c31\u662f\u8f93\u51fa\u7ed3\u679c,\u5bf9 PHP GC \u5df2\u6709\u6df1\u5165\u7406\u89e3\u7684 phper \u4e0d\u4f1a\u89c9\u5f97\u6709\u4ec0\u4e48\u5947\u602a,\u8bf4\u5b9e\u8bdd,\u5f53\u6211\u7b2c\u4e00\u6b21\u8fd0\u884c\u8fd9\u6bb5\u4ee3\u7801\u65f6\u5f88\u610f\u5916,\u5374\u8ba9\u6211\u5bf9 PHP GC \u6709\u66f4\u6df1\u523b\u7684\u7406\u89e3\u4e86.\u90a3\u4e48\u4e0b\u9762\u4e0e\u4e4b\u540c\u5de5\u7684\u4f8b\u5b50\u81ea\u7136\u597d\u7406\u89e3\u4e86.<\/p>\n<p>Example 6:<br \/>\n&lt;?php<br \/>\nerror_reporting(E_ALL);<br \/>\n$a = &#8216;I am test.&#8217;;<br \/>\n$b = &amp; $a;<\/p>\n<p>$b = null;<\/p>\n<p>echo &#8216;$a = &#8216;. $a .&#8221;n&#8221;;<br \/>\necho &#8216;$b = &#8216;. $b .&#8221;n&#8221;;<br \/>\n?&gt;<\/p>\n<p>OK,\u5982\u679c\u4e0a\u9762\u7684\u4f8b\u5b50\u7684\u7ed3\u679c\u5bf9\u770b\u5b98\u6765\u8bf4\u65e0\u4efb\u4f55\u7ec6\u8282\u53ef\u8a00,\u90a3\u60a8\u53ef\u5173\u95ed\u672c\u7a97\u53e3\u4e86,\u6b22\u8fce\u6709\u7a7a\u518d\u6765!<\/p>\n<p>\u4e0b\u9762\u6211\u4eec\u6765\u8be6\u7ec6\u5206\u6790 GC \u4e0e\u5f15\u7528.<br \/>\n1. \u6240\u6709\u4f8b\u5b50\u4e2d,\u521b\u5efa\u4e86\u4e00\u4e2a\u53d8\u91cf,\u8fd9\u4e2a\u8fc7\u7a0b\u901a\u4fd7\u4e00\u70b9\u8bb2:\u662f\u5728\u5185\u5b58\u4e2d\u5f00\u8f9f\u4e86\u4e00\u5757\u7a7a\u95f4,\u5728\u91cc\u9762\u5b58\u653e\u4e86\u4e00\u4e2a\u5b57\u7b26\u4e32 <strong>I am test.<\/strong> . PHP \u5185\u90e8\u6709\u4e2a\u7b26\u53f7\u8868,\u7528\u6765\u8bb0\u5f55\u5404\u5757\u5185\u5b58\u5f15\u7528\u8ba1\u6570,\u90a3\u4e48\u6b64\u65f6\u4f1a\u5c06\u8fd9\u5757\u5185\u5b58\u7684\u5f15\u7528\u8ba1\u6570 <strong>\u52a0 1<\/strong>, \u5e76\u4e14\u7528\u4e00\u4e2a\u540d\u4e3a $a \u7684\u6807\u7b7e(\u53d8\u91cf)<strong>\u6307\u5411<\/strong>\u8fd9\u5757\u5185\u5b58,\u65b9\u4fbf\u4f9d\u6807\u7b7e\u540d\u6765\u64cd\u4f5c\u5185\u5b58.<\/p>\n<p>2. \u5bf9\u53d8\u91cf $a \u8fdb\u884c <strong>&amp;<\/strong> \u64cd\u4f5c,\u6211\u7684\u7406\u89e3\u662f\u627e\u5230 $a \u6240\u6307\u5411\u7684\u5185\u5b58,\u5e76\u4e3a $b \u5efa\u7acb\u540c\u6837\u7684\u4e00\u5f15\u7528\u6307\u5411,\u5e76\u5c06\u5b58\u653e\u5b57\u7b26\u4e32 <strong>I am test.<\/strong> \u7684\u5185\u5b58\u5757\u5728\u7b26\u53f7\u8868\u4e2d\u5f15\u7528\u8ba1\u6570 \u52a0 1.\u6362 \u8a00\u4e4b,\u6211\u4eec\u7684\u811a\u672c\u6267\u884c\u5230\u8fd9\u4e00\u884c\u7684\u65f6\u5019,\u5b58\u653e\u5b57\u7b26\u4e32 <strong>I am test.<\/strong> \u7684\u90a3\u5757\u5185\u5b58\u88ab\u5f15\u7528\u4e86\u4e24\u6b21.\u8fd9\u91cc\u8981\u5f3a\u8c03\u7684\u662f, <strong>&amp;<\/strong> \u64cd\u4f5c\u662f\u5efa\u7acb\u4e86\u5f15\u7528\u6307\u5411,\u800c\u4e0d\u662f\u6307\u9488, PHP \u6ca1\u6709\u6307\u9488\u7684\u6982\u5ff5!\u540c\u65f6\u6709\u4eba\u63d0\u51fa\u8bf4\u7c7b\u4f3c\u4e8e UNIX \u7684\u6587\u4ef6\u8f6f\u94fe\u63a5.\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u8fd9\u4e48\u7406\u89e3: \u5b58\u653e\u5b57\u7b26 <strong>I am test. <\/strong>\u7684\u90a3\u5757\u5185\u5b58 \u662f\u6211\u4eec\u7684\u4e00\u4e2a\u771f\u5b9e\u7684\u6587\u4ef6,\u800c\u53d8\u91cf $a \u4e0e $b \u662f\u9488\u5bf9\u771f\u5b9e\u6587\u4ef6\u5efa\u7acb\u7684\u8f6f\u94fe\u63a5,\u4f46\u5b83\u4eec\u6307\u5411\u7684\u662f\u540c\u4e00\u4e2a\u771f\u5b9e\u6587\u4ef6. So, \u6211\u4eec\u770b<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u4f5c\u8005: \u6c38\u4e45\u94fe\u63a5: Email\/MSN\/Gtalk: Time: 2009.11.07 \u4f17\u6240\u5468\u77e5, PHP \u5f15 [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[22],"tags":[42],"class_list":["post-92","post","type-post","status-publish","format-standard","hentry","category-php","tag-php"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/92","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=92"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/92\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=92"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=92"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=92"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}