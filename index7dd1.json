{"id":99,"date":"2013-11-30T00:00:00","date_gmt":"2013-11-29T16:00:00","guid":{"rendered":"http:\/\/ijz.me\/?p=99"},"modified":"2013-11-30T00:00:00","modified_gmt":"2013-11-29T16:00:00","slug":"%e5%88%9b%e5%bb%ba%e5%b1%8f%e5%b9%95%e8%be%93%e5%87%ba-tputzz","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=99","title":{"rendered":"\u521b\u5efa\u5c4f\u5e55\u8f93\u51fa-tput\/zz\/"},"content":{"rendered":"<p>\u7528\u6237\u53ef\u4ee5\u4f7f\u7528shell\u811a\u672c\u521b\u5efa\u4ea4\u4e92\u6027\u7684,\u4e13\u4e1a\u6027\u5f3a\u7684\u5c4f\u5e55\u8f93\u51fa.\u8981\u5b9e\u73b0\u8fd9\u4e00\u70b9,\u7cfb\u7edf\u4e0a\u9700\u8981\u4e00\u4e2a\u5f69\u8272\u76d1\u89c6\u5668\u548ctput\u547d\u4ee4.<\/p>\n<p><!--more--><\/p>\n<p><strong>1 tput<\/strong><\/p>\n<p>\u5728\u4f7f\u7528tput\u524d,\u9700\u8981\u5728\u811a\u672c\u6216\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528tput\u547d\u4ee4\u521d\u59cb\u5316\u7ec8\u7aef.<br \/>\n$ tput init<br \/>\ntupt\u4ea7\u751f\u4e09\u79cd\u4e0d\u540c\u7684\u8f93\u51fa:\u5b57\u7b26\u578b,\u6570\u5b57\u578b\u548c\u5e03\u5c14\u578b(\u771f,\u5047)<\/p>\n<p><strong>\u00a0\u00a0\u00a0 1.1<\/strong> \u5b57\u7b26\u4e32\u8f93\u51fa<\/p>\n<p>\u5e38\u7528\u5b57\u7b26\u4e32\u6709:<\/p>\n<p>\u540d\u5b57\u00a0\u00a0\u00a0 \u542b\u4e49<\/p>\n<p>bel\u00a0\u00a0\u00a0 \u8b66\u94c3<br \/>\nblink\u00a0\u00a0\u00a0 \u95ea\u70c1\u6a21\u5f0f<br \/>\nbold\u00a0\u00a0\u00a0 \u7c97\u4f53<br \/>\ncivis\u00a0\u00a0\u00a0 \u9690\u85cf\u5149\u6807<br \/>\nclear\u00a0\u00a0\u00a0 \u6e05\u5c4f<br \/>\n\u7b49\u7b49<\/p>\n<p><strong>\u00a0\u00a0\u00a0 1.2 \u6570\u5b57\u8f93\u51fa<\/strong><\/p>\n<p>\u5e38\u7528\u6570\u5b57\u8f93\u51fa:<br \/>\n\u540d\u5b57\u00a0\u00a0\u00a0 \u542b\u4e49<br \/>\ncols\u00a0\u00a0\u00a0 \u5217\u6570\u76ee<br \/>\nit\u00a0\u00a0\u00a0 tab\u8bbe\u7f6e\u5bbd\u5ea6<br \/>\nlines\u00a0\u00a0\u00a0 \u5c4f\u5e55\u884c\u6570<\/p>\n<p><strong>\u00a0\u00a0\u00a0 1.3 \u5e03\u5c14\u8f93\u51fa<\/strong><\/p>\n<p>\u5728tput\u79cd\u53ea\u6709\u4e24\u79cd\u5e03\u5c14\u64cd\u4f5c\u7b26<\/p>\n<p>\u540d\u5b57\u00a0\u00a0\u00a0 \u542b\u4e49<br \/>\nchts\u00a0\u00a0\u00a0 \u5149\u6807\u4e0d\u53ef\u89c1<br \/>\nhs\u00a0\u00a0\u00a0 \u5177\u6709\u72b6\u6001\u884c<\/p>\n<p><strong>2 tput \u7528\u6cd5<\/strong><\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.1 \u8bbe\u7f6etput\u547d\u4ee4<\/strong><\/p>\n<p>\u53ef\u4ee5\u53d6\u5f97\u6240\u6709tput\u540d\u5b57\u8f93\u51fa,\u5c06\u5176\u4fdd\u5b58\u4e3a\u66f4\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d.\u683c\u5f0f\u5982\u4e0b:<br \/>\nvariable_name=&#8217;tupt name&#8217;<\/p>\n<p><strong> 2.2 \u4f7f\u7528\u5e03\u5c14\u8f93\u51fa<\/strong><\/p>\n<p>\u53ef\u4ee5\u5728if\u8bed\u53e5\u79cd\u4f7f\u7528\u5e03\u5c14\u578btput\u8f93\u51fa.<\/p>\n<p>STATUS_LINE=&#8217;tput hs&#8217;<br \/>\nif $STATUS_LINE; then<br \/>\necho103f &#8220;your terminal has a status line&#8221;<br \/>\nelse<br \/>\necho &#8220;your terminal has NO status line&#8221;<br \/>\nfi<\/p>\n<p><strong>2.3 \u5728\u811a\u672c\u4e2d\u4f7f\u7528tput<\/strong><\/p>\n<p>\u4ee5\u4e0b\u811a\u672c\u8bbe\u7f6etput bel\u548ccl\u4e3a\u66f4\u6709\u610f\u4e49\u7684\u53d8\u91cf\u540d.<\/p>\n<p>$ vi tput1<br \/>\n#!\/bin\/bash<br \/>\nBELL=`tput bel`<br \/>\nCLEAR=`tput cl`<\/p>\n<p>echo $BELL<br \/>\necho $CLEAR<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.4 \u4ea7\u751f\u8f6c\u4e49\u5e8f\u5217<\/strong><\/p>\n<p>\u6240\u6709\u63a7\u5236\u5b57\u7b26\u5747\u4ee5\u4e00\u4e2a\u8f6c\u4e49\u5e8f\u5217\u5f00\u59cb,\u901a\u5e38\u8f6c\u4e49\u952e\u540e\u7d27\u8ddf\u5b57\u7b26[.\u7136\u540e\u5b9e\u9645\u5e8f\u5217\u6253\u5f00\u6216\u5173\u95ed\u67d0\u7ec8\u7aef\u5c5e\u6027.<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.5 \u5149\u6807\u4f4d\u7f6e<\/strong><\/p>\n<p>\u53ef\u4ee5\u7528tput\u5c06\u5149\u6807\u653e\u5728\u5c4f\u5e55\u4efb\u610f\u4f4d\u7f6e.\u683c\u5f0f\u4e3a:<br \/>\ncup r c<br \/>\nr \u4e3a\u4ece\u4e0a\u81f3\u4e0b\u5c4f\u5e55\u884c\u6570,c\u4e3a\u7a7f\u8fc7\u5c4f\u5e55\u5217\u6570<br \/>\n\u6700\u597d\u5c06\u4e4b\u7f16\u6210\u51fd\u6570,\u8fd9\u6837\u5c31\u53ef\u4ee5\u628a\u884c\u548c\u5217\u7684\u503c\u4f20\u9012\u7ed9\u5b83.<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.6 \u5728\u5c4f\u5e55\u4e2d\u5fc3\u4f4d\u7f6e\u663e\u793a\u6587\u672c<\/strong><\/p>\n<p>\u5728\u5c4f\u5e55\u4e2d\u5fc3\u4f4d\u7f6e\u663e\u793a\u6587\u672c\u4e0d\u662f\u5f88\u9ebb\u70e6.\u9996\u5148\u4ecetput\u4e2d\u5f97\u5230\u5217\u6570,\u7136\u540e\u7b97\u51fa\u6240\u63d0\u4f9b\u7684\u5b57\u7b26\u4e32\u957f\u5ea6,\u4ecetput\u5217\u6570\u4e2d\u51cf\u53bb\u8be5\u503c,\u7ed3\u679c\u518d\u9664\u4ee52,\u6240\u5f97\u7ed3\u679c\u53ef\u7528\u4e8e\u663e\u793a\u7684\u5b57\u7b26\u4e32\u884c\u6570.<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.7 \u5728\u811a\u672c\u4e2d\u4f7f\u7528\u529f\u80fd\u952e<\/strong><\/p>\n<p>\u4f7f\u7528cat\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u53d1\u9001\u7684\u4efb\u610f\u7279\u6b8a\u952e\u63a7\u5236\u5e8f\u5217(F1,\u4e0a\u7bad\u5934\u7b49),\u952e\u5165cat -v,\u7136\u540e\u6309\u4efb\u610f\u63a7\u5236\u952e,\u56de\u8f66,\u5728\u4e0b\u4e00\u884c\u5c31\u53ef\u4ee5\u77e5\u9053\u7ec8\u7aef\u53d1\u9001\u4e86\u4ec0\u4e48\u529f\u80fd\u952e.\u7ed3\u675f\u540e\u6309&lt;ctrl-c&gt;\u9000\u51fa.<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.8 \u4f7f\u7528\u989c\u8272<\/strong><\/p>\n<p>\u5bf9\u57df\u4f7f\u7528\u989c\u8272\u53ef\u4ee5\u4f7f\u6570\u636e\u8f93\u5165\u5c4f\u5e55\u770b\u8d77\u6765\u66f4\u52a0\u4e13\u4e1a.\u663e\u793a\u524d\u666f\u6216\u80cc\u666f\u989c\u8272\u683c\u5f0f\u4e3a:<\/p>\n<p>&lt;ESCAPE&gt; [background_number;foreground_number m<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.9 \u4ea7\u751f\u989c\u8272<\/strong><\/p>\n<p>\u4ea7\u751f\u989c\u8272\u9700\u8981\u5728echo\u8bed\u53e5\u4e2d\u5d4c\u5165\u63a7\u5236\u5b57\u7b26.\u8fd9\u79cd\u65b9\u6cd5\u9002\u7528\u4e8e\u5e26\u6709\u5f69\u8272\u7ec8\u7aef\u7684\u4efb\u4f55\u7cfb\u7edf.\u4e0e\u5728\u63a7\u5236\u5b57\u7b26\u91cc\u4e00\u6837,\u53ef\u4ee5\u5728echo\u8bed\u53e5\u91cc\u4f7f\u7528\u8f6c\u4e49\u5e8f\u5217\u4ea7\u751f\u989c\u8272.<br \/>\n\u8981\u4ea7\u751f\u4e00\u4e2a\u9ed1\u8272\u80cc\u666f\u52a0\u7eff\u8272\u524d\u666f\u8272:<\/p>\n<p>echo -e &#8220;\u000033[40;32m&#8221;<\/p>\n<p><strong>\u00a0\u00a0\u00a0 2.10 \u521b\u5efa\u7cbe\u81f4\u83dc\u5355<\/strong><\/p>\n<p><strong>3 \u5c0f\u7ed3<\/strong><\/p>\n<p>\u4f7f\u7528tput\u547d\u4ee4\u53ef\u4ee5\u589e\u5f3a\u5e94\u7528\u5916\u89c2\u53ca\u811a\u672c\u7684\u63a7\u5236.\u989c\u8272\u8bbe\u7f6e\u53ef\u4ee5\u589e\u52a0\u5e94\u7528\u7684\u4e13\u4e1a\u6027.\u6ce8\u610f\u4f7f\u7528\u989c\u8272\u4e0d\u8981\u592a\u8fc7\u706b,\u8fd9\u4e5f\u8bb8\u5bf9\u4f60\u6765\u8bf4\u5f88\u597d,\u4f46\u5176\u4ed6\u7528\u6237\u4f7f\u7528\u8fd9\u6bb5\u811a\u672c\u65f6\u770b\u5230\u8fd9\u79cd\u5c4f\u5e55\u8bbe\u7f6e\u4e5f\u8bb8\u4f1a\u611f\u5230\u538c\u70e6.\u53ef\u4ee5\u4f7f\u7528\u548c\u8bfb\u53d6\u63a7\u5236\u5b57\u7b26\u6765\u589e\u52a0\u811a\u672c\u7684\u7075\u6d3b\u6027,\u7279\u522b\u662f\u5bf9\u7528\u6237\u51fb\u952e\u8f93\u5165\u64cd\u4f5c\u66f4\u662f\u5982\u6b64.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u7528\u6237\u53ef\u4ee5\u4f7f\u7528shell\u811a\u672c\u521b\u5efa\u4ea4\u4e92\u6027\u7684,\u4e13\u4e1a\u6027\u5f3a\u7684\u5c4f\u5e55\u8f93\u51fa.\u8981\u5b9e\u73b0\u8fd9\u4e00\u70b9,\u7cfb\u7edf\u4e0a\u9700\u8981\u4e00\u4e2a\u5f69\u8272\u76d1\u89c6\u5668\u548ctput\u547d [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[2,24],"tags":[],"class_list":["post-99","post","type-post","status-publish","format-standard","hentry","category-linux","category-shell"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/99","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=99"}],"version-history":[{"count":0,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/99\/revisions"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=99"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=99"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=99"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}