{"id":981,"date":"2017-06-22T20:01:00","date_gmt":"2017-06-22T12:01:00","guid":{"rendered":"http:\/\/ijz.me\/?p=981"},"modified":"2025-03-01T23:30:00","modified_gmt":"2025-03-01T15:30:00","slug":"%e7%94%9f%e4%bf%a1%e5%8d%95%e8%a1%8c%e8%84%9a%e6%9c%ac","status":"publish","type":"post","link":"http:\/\/ijz.me\/?p=981","title":{"rendered":"\u751f\u4fe1\u5355\u884c\u811a\u672c"},"content":{"rendered":"\n<p><\/p>\n\n\n\n<p>\u672c\u6587\u603b\u7ed3\u4e86\uff0c\u751f\u7269\u4fe1\u606f\u5904\u7406\u8fc7\u7a0b\u4e2d\u5e38\u89c1\u4e00\u4e9b\u5de5\u5177\u548c\u5355\u884c\u547d\u4ee4\u7b49\u3002<\/p>\n\n\n\n<!--more-->\n\n\n\n<p><strong>awk\u548csed\u57fa\u7840<\/strong><\/p>\n\n\n\n<p>\u63d0\u53d6\u6587\u4ef6\u4e2d\u76842, 4, and 5 \u5217:<\/p>\n\n\n\n<p>awk &#8216;{print $2,$4,$5}&#8217; file.txt<\/p>\n\n\n\n<p>\u8f93\u51fa\u7b2c\u4e94\u5217\u7b49\u4e8eabc123\u7684\u884c:<\/p>\n\n\n\n<p>awk &#8216;$5 == &#8220;abc123&#8243;&#8216; file.txt<\/p>\n\n\n\n<p>\u8f93\u51fa\u7b2c\u4e94\u5217\u4e0d\u662fabc123\u7684\u884c:<\/p>\n\n\n\n<p>awk &#8216;$5 != &#8220;abc123&#8243;&#8216; file.txt<\/p>\n\n\n\n<p>\u8f93\u51fa\u7b2c\u4e03\u5217\u4ee5\u5b57\u6bcda-f\u5f00\u5934\u7684\u884c:<\/p>\n\n\n\n<p>awk &#8216;$7 ~ \/^[a-f]\/&#8217; file.txt<\/p>\n\n\n\n<p>\u8f93\u51fa\u7b2c\u4e03\u5217\u4e0d\u662f\u4ee5\u5b57\u6bcda-f\u5f00\u5934\u7684\u884c:<\/p>\n\n\n\n<p>awk &#8216;$7 !~ \/^[a-f]\/&#8217; file.txt<\/p>\n\n\n\n<p>\u8ba1\u7b97\u7b2c\u4e8c\u5217\u4e0d\u91cd\u590d\u7684\u503c\u4fdd\u5b58\u5728\u54c8\u5e0carr\u4e2d (\u4e00\u4e2a\u503c\u53ea\u4fdd\u5b58\u4e00\u6b21):<\/p>\n\n\n\n<p>awk &#8216;!arr[$2]++&#8217; file.txt<\/p>\n\n\n\n<p>\u8f93\u51fa\u7b2c\u4e09\u5217\u7684\u503c\u6bd4\u7b2c\u4e94\u5217\u5927\u7684\u884c:<\/p>\n\n\n\n<p>\u8ba1\u7b97\u6587\u4ef6\u4e2d\u7b2c\u4e00\u5217\u7684\u7d2f\u52a0\u503c\uff0c\u8f93\u51fa\u6700\u540e\u7684\u7ed3\u679c:<\/p>\n\n\n\n<p>awk &#8216;{sum+=$1} END {print sum}&#8217; file.txt<\/p>\n\n\n\n<p>\u8ba1\u7b97\u7b2c\u4e8c\u5217\u7684\u5e73\u5747\u503c:<\/p>\n\n\n\n<p>awk &#8216;{x+=$2}END{print x\/NR}&#8217; file.txt<\/p>\n\n\n\n<p>\u7528bar\u66ff\u6362\u6587\u4ef6\u4e2d\u6240\u6709\u7684foo:<\/p>\n\n\n\n<p>sed &#8216;s\/foo\/bar\/g&#8217; file.txt<\/p>\n\n\n\n<p>\u6d88\u9664\u884c\u5f00\u5934\u7a7a\u548c\u683c\u5236\u8868\u7b26:<\/p>\n\n\n\n<p>sed &#8216;s\/^[ \\t]*\/\/&#8217; file.txt<\/p>\n\n\n\n<p>\u6d88\u9664\u884c\u7ed3\u5c3e\u7684\u7a7a\u683c\u548c\u5236\u8868\u7b26:<\/p>\n\n\n\n<p>sed &#8216;s\/[ \\t]*$\/\/&#8217; file.txt<\/p>\n\n\n\n<p>\u6d88\u9664\u884c\u4e2d\u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u7a7a\u683c\u548c\u5236\u8868\u7b26:<\/p>\n\n\n\n<p>sed &#8216;s\/^[ \\t]<em>\/\/;s\/[ \\t]<\/em>$\/\/&#8217; file.txt<\/p>\n\n\n\n<p>\u5220\u9664\u7a7a\u884c:<\/p>\n\n\n\n<p>\u5220\u9664\u5305\u542b\u2018EndOfUsefulData\u2019\u7684\u884c\u53ca\u5176\u540e\u6240\u6709\u7684\u884c:<\/p>\n\n\n\n<p>sed -n &#8216;\/EndOfUsefulData\/,$!p&#8217; file.txt<br>\u751f\u4fe1sed,awk\u5355\u884c\u5e94\u7528<\/p>\n\n\n\n<p>Returns all lines on Chr 1 between 1MB and 2MB in file.txt. (assumes) chromosome in column 1 and position in column 3 (this same concept can be used to return only variants that above specific allele frequencies):<\/p>\n\n\n\n<p>\u8f93\u51faChr\u4e3a1\u57281M\u548c2M\u4e4b\u95f4\u7684\u6240\u6709\u884c\u3002\uff08\u5047\u8bbe\uff09\u67d3\u8272\u4f53\u5728\u7b2c\u4e00\u5217\uff0c\u4f4d\u70b9\u5728\u7b2c\u4e09\u5217\uff08\u57fa\u4e8e\u540c\u6837\u7684\u5047\u8bbe\u53ef\u4ee5\u7528\u6765\u8fd4\u56de\u7c7b\u4f3c\u7279\u5b9a\u7b49\u4f4d\u57fa\u56e0\u9891\u7387\u7684\u53d8\u5f02\uff09<\/p>\n\n\n\n<p>cat file.txt | awk &#8216;$1==&#8221;1&#8243;&#8216; | awk &#8216;$3&gt;=1000000&#8217; | awk &#8216;$3&lt;=2000000&#8217;<\/p>\n\n\n\n<p>Basic sequence statistics. Print total number of reads, total number unique reads, percentage of unique reads, most abundant sequence, its frequency, and percentage of total in file.fq: \u57fa\u672c\u5e8f\u5217\u7edf\u8ba1\u3002\u8f93\u51fa\u603b\u7684reads\u6570\uff0c\u4e0d\u91cd\u590d\u7684reads\u603b\u6570\uff0c\u4e0d\u91cd\u590dreads\u767e\u5206\u6bd4\uff0c\u6700\u5927\u5197\u4f59\u7684\u5e8f\u5217\u53ca\u5176\u9891\u5ea6\u4ee5\u53ca\u603b\u5360\u6bd4\u767e\u5206\u6570\u3002<\/p>\n\n\n\n<p>cat myfile.fq | awk \u2018((NR-2)%4==0){read=$1;total++;count[read]++}END{for(read in count){if(!max||count[read]&gt;max) {max=count[read];maxRead=read};if(count[read]==1){unique++}};print total,unique,unique<em>100\/total,maxRead,count[maxRead],count[maxRead]<\/em>100\/total}\u2019<\/p>\n\n\n\n<p>\u8f6c\u6362.bam\u4e3a.fastq:<\/p>\n\n\n\n<p>samtools view file.bam | awk &#8216;BEGIN {FS=&#8221;\\t&#8221;} {print &#8220;@&#8221; $1 &#8220;\\n&#8221; $10 &#8220;\\n+\\n&#8221; $11}&#8217; &gt; file.fq<\/p>\n\n\n\n<p>Keep only top bit scores in blast hits (best bit score only): \u53ea\u53d6blast\u91c7\u6837\u4e2d\u7684\u9876\u7ea7\u4f4d\u70b9\u7684\u5206\u6570\uff08\u6700\u9ad8\u7684\u4f4d\u70b9\u5206\uff09<\/p>\n\n\n\n<p>awk &#8216;{ if(!x[$1]++) {print $0; bitscore=($14-1)} else { if($14&gt;bitscore) print $0} }&#8217; blastout.txt<\/p>\n\n\n\n<p>Keep only top bit scores in blast hits (5 less than the top): \u53ea\u53d6blast\u91c7\u6837\u4e2d\u7684\u9876\u7ea7\u4f4d\u70b9\u7684\u5206\u6570\uff08\u6bd4\u9876\u7ea7\u5c11\u4e8e5\u7684\uff09<\/p>\n\n\n\n<p>awk &#8216;{ if(!x[$1]++) {print $0; bitscore=($14-6)} else { if($14&gt;bitscore) print $0} }&#8217; blastout.txt<\/p>\n\n\n\n<p>\u5206\u5272\u591a\u5e8f\u5217FASTA\u6587\u4ef6\u4e3a\u5355\u5e8f\u5217FASTA\u6587\u4ef6<\/p>\n\n\n\n<p>awk &#8216;\/^&gt;\/{s=++d&#8221;.fa&#8221;} {print &gt; s}&#8217; multi.fa<\/p>\n\n\n\n<p>\u8f93\u51fafasta\u6587\u4ef6\u4e2d\u7684\u6bcf\u6761\u5e8f\u5217\u7684\u5e8f\u5217\u540d\u79f0\u548c\u957f\u5ea6<\/p>\n\n\n\n<p>cat file.fa | awk &#8216;$0 ~ &#8220;&gt;&#8221; {print c; c=0;printf substr($0,2,100) &#8220;\\t&#8221;; } $0 !~ &#8220;&gt;&#8221; {c+=length($0);} END { print c; }&#8217;<\/p>\n\n\n\n<p>\u8f6c\u5316FASTQ\u6587\u4ef6\u4e3aFASTA:<\/p>\n\n\n\n<p>sed -n &#8216;1~4s\/^@\/&gt;\/p;2~4p&#8217; file.fq &gt; file.fa<\/p>\n\n\n\n<p>\u4ece\u7b2c\u4e8c\u884c\u5f00\u59cb\u6bcf\u56db\u884c\u53d6\u503c\uff08\u4eceFASTQ\u6587\u4ef6\u63d0\u53d6\u5e8f\u5217\uff09\u3002<\/p>\n\n\n\n<p>\u8f93\u51fa\u4e2d\u5254\u9664\u7b2c\u4e00\u884c\uff1a<\/p>\n\n\n\n<p>\u8f93\u51fa20-80\u884c:<\/p>\n\n\n\n<p>awk &#8216;NR&gt;=20&amp;&amp;NR&lt;=80&#8217; input.txt<\/p>\n\n\n\n<p>\u8ba1\u7b97\u4e8c\uff0c\u4e09\u884c\u5217\u7684\u548c\u5e76\u8ffd\u52a0\u5230\u6bcf\u884c\u540e\u8f93\u51fa<\/p>\n\n\n\n<p>awk &#8216;{print $0,$2+$3}&#8217; input.txt<\/p>\n\n\n\n<p>\u8ba1\u7b97fastq\u6587\u4ef6\u5e73\u5747reads\u7684\u957f\u5ea6<\/p>\n\n\n\n<p>awk &#8216;NR%4==2{sum+=length($0)}END{print sum\/(NR\/4)}&#8217; input.fastq<\/p>\n\n\n\n<p>\u8f6c\u5316VSF\u6587\u4ef6\u4e3aBED\u6587\u4ef6<\/p>\n\n\n\n<p>sed -e &#8216;s\/chr\/\/&#8217; file.vcf | awk &#8216;{OFS=&#8221;\\t&#8221;; if (!\/^#\/){print 1,2-1,2,4&#8243;\/&#8221;$5,&#8221;+&#8221;}}&#8217;<br>sort, uniq, cut\u7b49\u6742\u9879<\/p>\n\n\n\n<p>\u8f93\u51fa\u5e26\u884c\u53f7\u7684\u5185\u5bb9:<\/p>\n\n\n\n<p>\u53bb\u91cd\u590d\u884c\u8ba1\u6570<\/p>\n\n\n\n<p>cat file.txt | sort -u | wc -l<\/p>\n\n\n\n<p>\u627e\u5230\u4e24\u6587\u4ef6\u90fd\u6709\u7684\u884c\uff08\u5047\u8bbe\u4e24\u4e2a\u6587\u4ef6\u90fd\u662f\u65e0\u91cd\u590d\u884c\uff0c\u91cd\u5b9a\u5411\u6267\u884c\u2018wd -l\u2019\u8ba1\u7b97\u540c\u6837\u884c\u7684\u884c\u6570\uff09<\/p>\n\n\n\n<p>sort file1 file2 | uniq -d<\/p>\n\n\n\n<h1 class=\"wp-block-heading\">\u5b89\u5168\u7684\u65b9\u6cd5<\/h1>\n\n\n\n<p>sort -u file1 &gt; a<\/p>\n\n\n\n<p>sort -u file2 &gt; b<\/p>\n\n\n\n<p>sort a b | uniq -d<\/p>\n\n\n\n<h1 class=\"wp-block-heading\">\u7528comm\u7684\u65b9\u6cd5<\/h1>\n\n\n\n<p>comm -12 file1 file2<\/p>\n\n\n\n<p>\u5bf9\u6587\u4ef6\u6309\u7167\u7b2c\u4e5d\u5217\u6570\u5b57\u987a\u5e8f\u6392\u5e8f\uff08g\u6309\u7167\u5e38\u89c4\u6570\u503c\uff0ck\u5217\uff09<\/p>\n\n\n\n<p>\u627e\u5230\u7b2c\u4e8c\u5217\u51fa\u73b0\u6700\u591a\u7684\u5b57\u7b26\u4e32<\/p>\n\n\n\n<p>cut -f2 file.txt | sort | uniq -c | sort -k1nr | head<\/p>\n\n\n\n<p>\u4ece\u6587\u4ef6\u4e2d\u968f\u673a\u53d610\u884c<\/p>\n\n\n\n<p>shuf file.txt | head -n 10<\/p>\n\n\n\n<p>\u8f93\u51fa\u6240\u6709\u4e09\u4e2a\u6240\u53ef\u80fd\u7684DNA\u5e8f\u5217<\/p>\n\n\n\n<p>echo {A,C,T,G}{A,C,T,G}{A,C,T,G}<\/p>\n\n\n\n<p>Untangle an interleaved paired-end FASTQ file. If a FASTQ file has paired-end reads intermingled, and you want to separate them into separate \/1 and \/2 files, and assuming the \/1 reads precede the \/2 reads:<\/p>\n\n\n\n<p>\u89e3\u5f00\u4e00\u5217\u4ea4\u9519paired-end fastq\u6587\u4ef6\u3002\u5982\u679cfastq\u6587\u4ef6\u6709\u4e71\u5e8fpaired-end reads\uff0c\u4f60\u60f3\u5c06\u5176\u5206\u79bb\u6210\u5355\u72ec\u7684\/1\uff0c\/2\u7684\u6587\u4ef6\u4fdd\u5b58\uff0c\u8fd9\u91cc\u5047\u8bbe\/1 reads \u5728\/2 \u524d\u9762\uff1a<\/p>\n\n\n\n<p>cat interleaved.fq |paste &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; &#8211; | tee &gt;(cut -f 1-4 | tr &#8220;\\t&#8221; &#8220;\\n&#8221; &gt; deinterleaved_1.fq) | cut -f 5-8 | tr &#8220;\\t&#8221; &#8220;\\n&#8221; &gt; deinterleaved_2.fq<\/p>\n\n\n\n<p>Take a fasta file with a bunch of short scaffolds, e.g., labeled &gt;Scaffold12345, remove them, and write a new fasta without them:<\/p>\n\n\n\n<p>\u5c06\u4e00\u4e2afasta\u6587\u4ef6\u8f6c\u6210\u4e00\u7cfb\u5217\u77ed\u7684scaffolds\u3002\u6bd4\u5982\uff0c\u6807\u7b7e \u201c&gt;Scaffold12345\u2033\uff0c\u7136\u540e\u79fb\u51fa\u4ed6\u4eec\uff0c\u4fdd\u5b58\u4e00\u4e2a\u53bb\u6389\u4ed6\u4eec\u7684\u65b0\u6587\u4ef6\uff1a<\/p>\n\n\n\n<p>samtools faidx genome.fa &amp;&amp; grep -v Scaffold genome.fa.fai | cut -f1 | xargs -n1 samtools faidx genome.fa &gt; genome.noscaffolds.fa<\/p>\n\n\n\n<p>Display hidden control characters:<\/p>\n\n\n\n<p>\u663e\u793a\u4e00\u4e2a\u9690\u85cf\u7684\u63a7\u5236\u5b57\u7b26\uff1a<\/p>\n\n\n\n<p>python -c &#8220;f = open(&#8216;file.txt&#8217;, &#8216;r&#8217;); f.seek(0); file = f.readlines(); print file&#8221;<br>find, xargs,\u548cGNU parallel<\/p>\n\n\n\n<p>\u901a\u8fc7 https:\/\/www.gnu.org\/software\/parallel\/. \u8f7d GNU parallel<\/p>\n\n\n\n<p>\u641c\u7d22\u6587\u4ef6\u5939\u53ca\u5176\u5b50\u76ee\u5f55\u4e2d\u540d\u79f0\u4e3a .bam \u6587\u4ef6\uff08\u76ee\u5f55\u4e5f\u7b97\uff09:<\/p>\n\n\n\n<p>\u5220\u9664\u4e0a\u9762\u641c\u5230\u7684\u6587\u4ef6\u5217\u8868(\u4e0d\u53ef\u9006\u7684\u5371\u9669\u64cd\u4f5c\uff0c\u8c28\u614e\u4f7f\u7528\uff01\u5220\u9664\u4e4b\u524d\u8bf7\u81ea\u4e60\u786e\u8ba4)<\/p>\n\n\n\n<p>find . -name &#8220;*.bam&#8221; | xargs rm<\/p>\n\n\n\n<p>\u5c06\u6240\u6709.txt \u6587\u4ef6\u4fee\u6539\u4e3a.bak(\u4f8b\u5982\u5728\u5bf9*.txt\u505a\u64cd\u4f5c\u4e4b\u524d\u7528\u4e8e\u6587\u4ef6\u5907\u4efd)<\/p>\n\n\n\n<p>find . -name &#8220;*.txt&#8221; | sed &#8220;s\/.txt$\/\/&#8221; | xargs -i echo mv {}.txt {}.bak | sh<\/p>\n\n\n\n<p>Chastity filter raw Illumina data (grep reads containing :N:, append (-A) the three lines after the match containing the sequence and quality info, and write a new filtered fastq file):<\/p>\n\n\n\n<p>\u5bf9Illumina\u6570\u636e\u505aChastity\u8fc7\u6ee4\uff08grep \u67e5\u8be2 \u5305\u542b:N:\uff0c\u7528\uff08-A\uff09\u9009\u9879\u7b2c\u4e09\u5217\u4fe1\u606f\u9644\u52a0\u5728\u5339\u914d\u7684\u5305\u542b\u4e00\u4e2a\u5e8f\u5217\u8d28\u91cf\u4fe1\u606f\u540e\uff0c\u5e76\u4fdd\u5b58\u4e3a\u4e00\u4e2a\u65b0\u7684fasta\u6587\u4ef6\uff09<\/p>\n\n\n\n<p>find <em>fq | parallel &#8220;cat {} | grep -A 3 &#8216;^@.<\/em>[^:]<em>:N:[^:]<\/em>:&#8217; | grep -v &#8216;^&#8211;$&#8217; &gt; {}.filt.fq&#8221;<\/p>\n\n\n\n<p>\u901a\u8fc7parallel\u5e76\u884c\u8fd0\u884c12\u4e2aFASTQC\u4efb\u52a1<\/p>\n\n\n\n<p>find *.fq | parallel -j 12 &#8220;fastqc {} &#8211;outdir .&#8221;<\/p>\n\n\n\n<p>\u901a\u8fc7parallel\u7ed9bam\u505a\u7d22\u5f15\uff0c\u901a\u8fc7\u2013dry-run\u6253\u5370\u6d4b\u8bd5\u8fd9\u4e9b\u547d\u4ee4\uff0c\u5b9e\u9645\u4e0a\u5e76\u672a\u505a\u6267\u884c\u3002<\/p>\n\n\n\n<p>find *.bam | parallel &#8211;dry-run &#8216;samtools index {}&#8217;<br>seqtk<\/p>\n\n\n\n<p>Seqtk\u9879\u76ee\u6258\u7ba1\u5730\u5740https:\/\/github.com\/lh3\/seqtk\u3002Seqtk\u662f\u4e00\u4e2a\u5feb\u6377\u8f7b\u91cf\u7684\u5904\u7406FASTA\u548cFASTQ\u683c\u5f0f\u57fa\u56e0\u5e8f\u5217\u7684\u5de5\u5177\u3002\u4ed6\u53ef\u4ee5\u662f\u5148FASTA\u548cFASTQ\u65e0\u7f1d\u5904\u7406\u548c\u8f6c\u5316\uff0c\u540c\u65f6\u652f\u6301gzip\u683c\u5f0f\u7684\u538b\u7f29\u6587\u4ef6\u3002<\/p>\n\n\n\n<p>\u628aFASTQ\u8f6c\u5316\u4e3aFASTA:<\/p>\n\n\n\n<p>seqtk seq -a in.fq.gz &gt; out.fa<\/p>\n\n\n\n<p>\u8f6c\u5316ILLUMINA 1.3+ \u683c\u5f0fFASTQ\u4e3aFASTA\uff0c\u5e76\u4e14\u4ee5\u5c0f\u4e8e20\u7684mask bases\u83b7\u5f97\u5c0f\u5199\u5b57\u6bcd(\u7b2c\u4e00\u547d\u4ee4\u884c)\u6216\u8005\u5230N\uff08\u7b2c\u4e8c\uff09\u3002 seqtk seq -aQ64 -q20 in.fq &gt; out.fa seqtk seq -aQ64 -q20 -n N in.fq &gt; out.fa<\/p>\n\n\n\n<p>\u6298\u53e0\u957fFASTA\/Q\u884c\uff0c\u5e76\u4e14\u53bb\u9664\u5176\u6ce8\u91ca\uff1a<\/p>\n\n\n\n<p>seqtk seq -Cl60 in.fa &gt; out.fa<\/p>\n\n\n\n<p>\u8f6c\u5316\u591a\u884cFASTQ\u5230\u56db\u884cFASTQ:<\/p>\n\n\n\n<p>seqtk seq -l0 in.fq &gt; out.fq<\/p>\n\n\n\n<p>\u53cd\u8f6cFASTA\/Q\u5e8f\u5217:<\/p>\n\n\n\n<p>seqtk seq -r in.fq &gt; out.fq<\/p>\n\n\n\n<p>\u7528\u5e8f\u5217\u6587\u4ef6\u4e2d\u7684\u540d\u79f0\uff08\u6bd4\u5982name.1st\uff09\u63d0\u53d6\u5e8f\u5217,\u4e00\u4e2a\u865a\u5217\u540d\u4e00\u884c:<\/p>\n\n\n\n<p>seqtk subseq in.fq name.lst &gt; out.fq<\/p>\n\n\n\n<p>\u5229\u7528\u5e8f\u5217\u6587\u4ef6\u4e2d\u7684\u201dreg.bed\u201cr\u4fe1\u606f\u63d0\u53d6\u5730\u7406\u4fe1\u606f\u7684\u5e8f\u5217:<\/p>\n\n\n\n<p>seqtk subseq in.fa reg.bed &gt; out.fa<\/p>\n\n\n\n<p>\u7f16\u7801\u2018reg.bed\u2019\u4fe1\u606f\u4e3a\u5c0f\u5199<\/p>\n\n\n\n<p>seqtk seq -M reg.bed in.fa &gt; out.fa<\/p>\n\n\n\n<p>\u4ece\u4e24\u4e2a\u5927\u7684paired FASTQ\u6587\u4ef6\u63d0\u53d610000\u4e2aread pairs\uff08\u8bb0\u5f97\u7528\u540c\u6837\u7684\u968f\u673a\u79cd\u5b50\u4fdd\u6301 paire\uff09<\/p>\n\n\n\n<p>seqtk sample -s100 read1.fq 10000 &gt; sub1.fq<\/p>\n\n\n\n<p>seqtk sample -s100 read2.fq 10000 &gt; sub2.fq<\/p>\n\n\n\n<p>\u5229\u7528Phred\u516c\u5f0f\u4ece\u4e24\u5934\u4fee\u526a\u4f4e\u8d28\u91cfbases:<\/p>\n\n\n\n<p>seqtk trimfq in.fq &gt; out.fq<\/p>\n\n\n\n<p>\u4ece\u5de6\u7aef\u4fee\u526a5bp\uff0c\u4ece\u53f3\u7aef\u4fee\u526a10bp\u7684\u3002<\/p>\n\n\n\n<p>seqtk trimfq -b 5 -e 10 in.fa &gt; out.fa<\/p>\n\n\n\n<p>seqtk seq -l0 -1 interleaved.fq &gt; deinterleaved_1.fq<\/p>\n\n\n\n<p>seqtk seq -l0 -2 interleaved.fq &gt; deinterleaved_2.fq<br>GFF3 Annotations<\/p>\n\n\n\n<p>\u8f93\u51faGFF3\u6587\u4ef6\u4e2d\u6807\u6ce8\u7684\u6240\u6709\u7684\u5e8f\u5217<\/p>\n\n\n\n<p>cut -s -f 1,9 yourannots.gff3 | grep $&#8217;\\t&#8217; | cut -f 1 | sort | uniq<\/p>\n\n\n\n<p>\u68c0\u6d4bGFF3\u6587\u4ef6\u4e2d\u6807\u6ce8\u7684\u6240\u6709\u6027\u72b6\u7c7b\u578b\u3002<\/p>\n\n\n\n<p>grep -v &#8216;^#&#8217; yourannots.gff3 | cut -s -f 3 | sort | uniq<\/p>\n\n\n\n<p>\u68c0\u6d4bGFF3\u6587\u4ef6\u4e2d\u6807\u6ce8\u7684\u57fa\u56e0\u6570\u91cf\u3002<\/p>\n\n\n\n<p>grep -c $&#8217;\\tgene\\t&#8217; yourannots.gff3<\/p>\n\n\n\n<p>\u4eceGFF3\u6587\u4ef6\u4e2d\u63d0\u53d6\u6240\u6709\u7684\u57fa\u56e0ID<\/p>\n\n\n\n<p>grep $&#8217;\\tgene\\t&#8217; yourannots.gff3 | perl -ne &#8216;\/ID=([^;]+)\/ and printf(&#8220;%s\\n&#8221;, $1)&#8217;<\/p>\n\n\n\n<p>\u8f93\u51faGFF3\u6587\u4ef6\u6bcf\u4e2a\u57fa\u56e0\u7684\u957f\u5ea6<\/p>\n\n\n\n<p>grep $&#8217;\\tgene\\t&#8217; yourannots.gff3 | cut -s -f 4,5 | perl -ne &#8216;@v = split(\/\\t\/); printf(&#8220;%d\\n&#8221;, $v[1] &#8211; $v[0] + 1)&#8217;<\/p>\n\n\n\n<p>FASTA\u5934\u5217\u8f6c\u5316\u4e3aGFF\u683c\u5f0f\uff08\u5047\u8bbe\u5934\u7684\u957f\u5ea6\uff0c\u9644\u52a0\u5728\u201d_length\u201c ,\u548cVelvet assembled transcripts)\uff09<\/p>\n\n\n\n<p>grep &#8216;&gt;&#8217; file.fasta | awk -F &#8220;<em>&#8221; &#8216;BEGIN{i=1; print &#8220;##gff-version 3&#8243;}{ print $0&#8243;\\t BLAT\\tEXON\\t1\\t&#8221;$10&#8243;\\t95\\t+\\t.\\tgene_id=&#8221;$0&#8221;;transcript_id=Transcript<\/em>&#8220;i;i++ }&#8217; &gt; file.gff<br>\u6709\u7528\u7684\u522b\u540d(.bashrc)<\/p>\n\n\n\n<p>\u63d0\u793a\u7b26\u4fee\u6539\u4e3auser@hostname:\/full\/path\/cwd\/:$ \u5f62\u5f0f<\/p>\n\n\n\n<p>export PS1=\u201d\\u@\\h:\\w\\$ \u201d<\/p>\n\n\n\n<p>\u907f\u514d\u53cd\u590d\u6572\u8bf8\u5982cd ..\/..\/..\u7684\u547d\u4ee4\uff08\u4e5f\u53ef\u4ee5\u7528[autojump](https:\/\/github.com\/joelthelion\/autojump\uff09\uff0c\u8ba9\u4f60\u5728\u98de\u901f\u7684\u8f6c\u6362\u76ee\u5f55<\/p>\n\n\n\n<p>alias ..=&#8217;cd ..&#8217;<\/p>\n\n\n\n<p>alias \u2026=&#8217;cd ..\/..\/&#8217;<\/p>\n\n\n\n<p>alias \u2026.=&#8217;cd ..\/..\/..\/&#8217;<\/p>\n\n\n\n<p>alias \u2026..=&#8217;cd ..\/..\/..\/..\/&#8217;<\/p>\n\n\n\n<p>alias \u2026\u2026=&#8217;cd ..\/..\/..\/..\/..\/&#8217;<\/p>\n\n\n\n<p>\u5411\u524d\u548c\u5411\u540e\u6d4f\u89c8<\/p>\n\n\n\n<p>alias u=&#8217;clear; cd ..\/; pwd; ls -lhGgo&#8217;<\/p>\n\n\n\n<p>alias d=&#8217;clear; cd -; ls -lhGgo&#8217;<\/p>\n\n\n\n<p>\u8986\u76d6\u6587\u4ef6\u65f6\u5019\uff0c\u5148\u786e\u8ba4<\/p>\n\n\n\n<p>alias mv=&#8221;mv -i&#8221;<\/p>\n\n\n\n<p>alias cp=&#8221;cp -i&#8221;<\/p>\n\n\n\n<p>alias rm=&#8221;rm -i&#8221;<\/p>\n\n\n\n<p>\u6211\u6700\u559c\u6b22\u7684\u201dls\u201c\u522b\u540d<\/p>\n\n\n\n<p>alias ls=&#8221;ls -1p &#8211;color=auto&#8221;<\/p>\n\n\n\n<p>alias l=&#8221;ls -lhGgo&#8221;<\/p>\n\n\n\n<p>alias ll=&#8221;ls -lh&#8221;<\/p>\n\n\n\n<p>alias la=&#8221;ls -lhGgoA&#8221;<\/p>\n\n\n\n<p>alias lt=&#8221;ls -lhGgotr&#8221;<\/p>\n\n\n\n<p>alias lS=&#8221;ls -lhGgoSr&#8221;<\/p>\n\n\n\n<p>alias l.=&#8221;ls -lhGgod .*&#8221;<\/p>\n\n\n\n<p>alias lhead=&#8221;ls -lhGgo | head&#8221;<\/p>\n\n\n\n<p>alias ltail=&#8221;ls -lhGgo | tail&#8221;<\/p>\n\n\n\n<p>alias lmore=&#8217;ls -lhGgo | more&#8217;<\/p>\n\n\n\n<p>\u5bf9cut\u7a7a\u683c\u548c\u9017\u53f7\uff0c\u5206\u5272\u6587\u4ef6<\/p>\n\n\n\n<p>alias cuts=&#8221;cut -d \\&#8221; \\&#8221;&#8221;<\/p>\n\n\n\n<p>alias cutc=&#8221;cut -d \\&#8221;,\\&#8221;&#8221;<\/p>\n\n\n\n<p>\u89e3\u538b\u7f29tar\u5305<\/p>\n\n\n\n<p>alias tarup=&#8221;tar -zcf&#8221;<\/p>\n\n\n\n<p>alias tardown=&#8221;tar -zxf&#8221;<\/p>\n\n\n\n<p>\u6216\u8005\u53ef\u4ee5\u7528\u66f4\u666e\u904d\u7684\u2018extract\u2019\u51fd\u6570<\/p>\n\n\n\n<p>\u6e90\u4e8eABSG(Advanced Bash Scripting Guide)\u4e2d Mendel Cooper\u7684\u5efa\u8bae<\/p>\n\n\n\n<blockquote class=\"wp-block-quote is-layout-flow wp-block-quote-is-layout-flow\">\n<p>extract () {<\/p>\n\n\n\n<p>if [ -f $1 ] ; then<\/p>\n\n\n\n<p>case $1 in<\/p>\n\n\n\n<p>*.tar.bz2) tar xvjf $1 ;;<\/p>\n\n\n\n<p>*.tar.gz) tar xvzf $1 ;;<\/p>\n\n\n\n<p>*.tar.xz) tar Jxvf $1 ;;<\/p>\n\n\n\n<p>*.bz2) bunzip2 $1 ;;<\/p>\n\n\n\n<p>*.rar) unrar x $1 ;;<\/p>\n\n\n\n<p>*.gz) gunzip $1 ;;<\/p>\n\n\n\n<p>*.tar) tar xvf $1 ;;<\/p>\n\n\n\n<p>*.tbz2) tar xvjf $1 ;;<\/p>\n\n\n\n<p>*.tgz) tar xvzf $1 ;;<\/p>\n\n\n\n<p>*.zip) unzip $1 ;;<\/p>\n\n\n\n<p>*.Z) uncompress $1 ;;<\/p>\n\n\n\n<p>*.7z) 7z x $1 ;;<\/p>\n\n\n\n<p>*) echo &#8220;don&#8217;t know how to extract &#8216;$1&#8217;&#8230;&#8221; ;;<\/p>\n\n\n\n<p>esac<\/p>\n\n\n\n<p>else<\/p>\n\n\n\n<p>echo &#8220;&#8216;$1&#8217; is not a valid file!&#8221;<\/p>\n\n\n\n<p>fi<\/p>\n\n\n\n<p>}<\/p>\n<\/blockquote>\n\n\n\n<p>\u4f7f\u7528\u522b\u540d\u201dmcd\u201d\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u5e76\u4e14cd\u5230\u8be5\u76ee\u5f55<\/p>\n\n\n\n<p>function mcd { mkdir -p &#8220;$1&#8221; &amp;&amp; cd &#8220;$1&#8221;;}<\/p>\n\n\n\n<p>\u8df3\u8f6c\u5230\u4e0a\u7ea7\u76ee\u5f55\uff0c\u5e76\u4e14\u5217\u51fa\u5176\u5185\u5bb9<\/p>\n\n\n\n<p>\u4e00\u4e2a\u597d\u770b\u7684grep<\/p>\n\n\n\n<p>alias grep=&#8221;grep &#8211;color=auto&#8221;<\/p>\n\n\n\n<p>\u5237\u65b0\u4f60\u7684.bashrc<\/p>\n\n\n\n<p>alias refresh=&#8221;source ~\/.bashrc&#8221;<\/p>\n\n\n\n<p>\u7f16\u8f91\u4f60\u7684.bashrc<\/p>\n\n\n\n<p>\u5e38\u7528\u9519\u8bef\u522b\u79f0<\/p>\n\n\n\n<p>alias mf=&#8221;mv -i&#8221;<\/p>\n\n\n\n<p>alias mroe=&#8221;more&#8221;<\/p>\n\n\n\n<p>alias c=&#8217;clear&#8217;<\/p>\n\n\n\n<p>\u4f7f\u7528 pandoc\u8f6c\u5316markdown\u6587\u6863\u4e3aPDF\u683c\u5f0f:<\/p>\n\n\n\n<h1 class=\"wp-block-heading\">\u7528\u6cd5: mdpdf document.md document.md.pdf<\/h1>\n\n\n\n<p>alias mdpdf=&#8221;pandoc -s -V geometry:margin=1in -V documentclass:article -V fontsize=12pt&#8221;<\/p>\n\n\n\n<p>\u5bf9\u5f53\u524d\u76ee\u5f55\u641c\u7d22\u5173\u952e\u8bcd(ft \u201cmytext\u201d *.txt):<\/p>\n\n\n\n<p>function ft { find . -name &#8220;$2&#8221; -exec grep -il &#8220;$1&#8221; {} \\;; }<\/p>\n\n\n\n<p>Etc<\/p>\n\n\n\n<p>\u91cd\u590d\u8fd0\u884c\u4e0a\u4e00\u6761\u547d\u4ee4:<\/p>\n\n\n\n<p>sudo !!<\/p>\n\n\n\n<p>&#8216;ALT+.&#8217; or &#8216;&lt;ESC&gt; .&#8217;<\/p>\n\n\n\n<p>\u6572\u51fa\u4e86\u90e8\u5206\u547d\u4ee4\uff0c\u5220\u9664\u8fd9\u4e9b\u8f93\u5165\uff0c\u67e5\u4f60\u5fd8\u8bb0\u7684\u660e\u4eae\uff0c\u62c9\u56de\u547d\u4ee4\uff0c\u7ee7\u7eed\u8f93\u5165(\u5220\u9664\u5149\u6807\u4e4b\u524d\u7684\u8f93\u5165\uff0c\u6062\u590d\u4e0a\u4e2aC-U\u5220\u9664\u5b57\u7b26)<\/p>\n\n\n\n<p>&lt;CTRL+u&gt; [\u2026] &lt;CTRL+y&gt;<\/p>\n\n\n\n<p>\u8df3\u5230\u4e00\u4e2a\u76ee\u5f55\uff0c\u6267\u884c\u547d\u4ee4\uff0c\u7136\u540e\u8fd4\u56de\u5f53\u524d\u76ee\u5f55(()\u7684\u7528\u6cd5)<\/p>\n\n\n\n<p>\u8bb0\u65f6\u79d2\u8868 (\u8f93\u5165Enter or ctrl-d \u505c\u6b62):<\/p>\n\n\n\n<p>\u628a\u4e0a\u6b21\u6267\u884c\u7684\u547d\u4ee4\u751f\u6210\u4e00\u4e2a\u811a\u672c<\/p>\n\n\n\n<p>\u91cd\u7528\u4e0a\u6b21\u547d\u4ee4\u7684\u6240\u6709\u53c2\u6570<\/p>\n\n\n\n<p>\u5217\u51fa\u6216\u8005\u5220\u9664\u4e00\u4e2a\u76ee\u5f55\u4e2d\u6240\u6709\u4e0d\u5339\u914d\u7684\u7279\u5b9a\u540e\u7f00\u7684\u6587\u4ef6\uff08\u4f8b\u5982\uff0c\u5217\u51fa\u6240\u6709\u4e0d\u662f\u538b\u7f29\u7684\u6587\u4ef6\uff0c\u5220\u9664\u6240\u6709\u4e0d\u4ee5.foo\u548c.bar\u540e\u7f00\u7684\u6587\u4ef6\uff09<\/p>\n\n\n\n<p>ls !(*.gz)<\/p>\n\n\n\n<p>rm !(<em>.foo|<\/em>.bar)<\/p>\n\n\n\n<p>\u5229\u7528\u4e0a\u6b21\u7684\u547d\u4ee4\uff0c\u4f46\u662f\u4e0d\u9700\u8981\u4ed6\u7684\u7684\u53c2\u6570\uff08\u91cd\u65b0\u8f93\u5165\u53c2\u6570\uff09:<\/p>\n\n\n\n<p>!:- &lt;new_last_argument&gt;<\/p>\n\n\n\n<p>\u6fc0\u6d3b\u4e00\u4e2a\u5feb\u6377\u7684\u7f16\u8f91\u5668\uff0c\u8f93\u5165\uff0c\u7f16\u8f91\u957f\u7684\uff0c\u590d\u6742\uff0c\u5de7\u5999\u7684\u547d\u4ee4:<\/p>\n\n\n\n<p>\u8f93\u51fa\u4e00\u4e2a\u7279\u5b9a\u7684\u884c\uff08\u6bd4\u5982 42\u884c\uff09<\/p>\n\n\n\n<p>\u7ec8\u7ed3\u4e00\u4e2a\u51bb\u7ed3\u7684ssh session(\u4f1a\u8f66\u6362\u884c\uff0c\u6572~\u952e\uff0c\u5728\u6572\u4e0b.\u952e\uff09<\/p>\n\n\n\n<p>\u5229\u7528grep\u53bb\u9664\u6587\u4ef6\u7684\u7a7a\u884c\uff0c\u7ed3\u679c\u4fdd\u5b58\u5230\u65b0\u6587\u4ef6<\/p>\n\n\n\n<p>grep . filename &gt; newfilename<\/p>\n\n\n\n<p>\u67e5\u627e\u5927\u6587\u4ef6\uff08\u4f8b\u5982\uff0c\u5927\u4e8e500M\u7684\uff09<\/p>\n\n\n\n<p><code>find . -type f -size +500M<\/code><\/p>\n\n\n\n<p>\u5229\u7528\u622a\u53d6\u5217\uff08\u4f8b\u5982\uff0c\u4e00\u4e2atab\u5206\u5272\u6587\u4ef6\u7684\u7b2c\u4e94\u4e2a\u57df\uff09<\/p>\n\n\n\n<p><code>cut -f5 --complement<\/code><\/p>\n\n\n\n<p>\u67e5\u627e\u5305\u542b\u7279\u5b9a\u5b57\u7b26\u7684\u6587\u4ef6\uff08-l \u53ea\u8f93\u51fa\u6587\u4ef6\u540d, -i \u5ffd\u7565\u5927\u5c0f\u5199 -r \u904d\u5386\u5b50\u76ee\u5f55\uff09<\/p>\n\n\n\n<p><code>grep -lir \"some text\" *<\/code><\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u672c\u6587\u603b\u7ed3\u4e86\uff0c\u751f\u7269\u4fe1\u606f\u5904\u7406\u8fc7\u7a0b\u4e2d\u5e38\u89c1\u4e00\u4e9b\u5de5\u5177\u548c\u5355\u884c\u547d\u4ee4\u7b49\u3002<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"footnotes":""},"categories":[24],"tags":[66,46],"class_list":["post-981","post","type-post","status-publish","format-standard","hentry","category-shell","tag-awk","tag-shell"],"_links":{"self":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/981","targetHints":{"allow":["GET"]}}],"collection":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=981"}],"version-history":[{"count":2,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/981\/revisions"}],"predecessor-version":[{"id":1171,"href":"http:\/\/ijz.me\/index.php?rest_route=\/wp\/v2\/posts\/981\/revisions\/1171"}],"wp:attachment":[{"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=981"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=981"},{"taxonomy":"post_tag","embeddable":true,"href":"http:\/\/ijz.me\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=981"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}